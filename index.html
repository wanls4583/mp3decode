<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>mp3音频解析</title>
    <script type="text/javascript">
    if (location.href.indexOf("eruda") != -1) {
        var src = "js/eruda.min.js";
        document.write("<scr" + 'ipt src="' + src + '"></scr' + "ipt>");
        document.write("<scr" + "ipt>eruda.init();</scr" + "ipt>")
    }
    </script>
</head>

<body style="text-align: center">
    <input value=0 type="range" id="myRange">
    <p id="per"></p>
    <button onclick="play()">播放</button>
    <script type="text/javascript" src="js/Mp3Player.js"></script>
    <script type="text/javascript">
    var mp3 = new Mp3Player('test.mp3',
        {
            updateTimeCb: function(currentTime){
                // console.log(currentTime);
            }
            // ,decrypt:function(arrayBuffer) {
            //     var arr = new Uint8Array(arrayBuffer);
            //     for (var i = 0; i < arr.length; i++) {
            //         arr[i] = arr[i] - 1;
            //     }
            // }
        }
    );
    document.getElementById("myRange").onchange = function() {
        var percent = document.getElementById("myRange").value;
        document.getElementById("per").innerHTML = percent;
        mp3.seek(parseInt(percent));
    }

    function play() {
        mp3.play();
    }

    </script>
</body>

</html>
