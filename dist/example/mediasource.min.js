/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 21);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/**\r\n * bit流模块\r\n */\nfunction BitStream(arrayBuffer) {\n    if (arrayBuffer instanceof ArrayBuffer) {\n        this._uint8Array = new Uint8Array(arrayBuffer);\n    } else if (typeof arrayBuffer == 'number') {\n        arrayBuffer = new ArrayBuffer(arrayBuffer);\n        this._uint8Array = new Uint8Array(arrayBuffer);\n    } else {\n        throw Error('参数错误');\n    }\n    this._bytePos = 0; //当前bit位置\n    this._bitPos = 0; //当前字节位置\n    this.buffer = arrayBuffer;\n    this.end = 0;\n}\nvar _proto_ = BitStream.prototype;\n/**\r\n * 返回buffer\r\n * @return  arraybuffer\r\n */\n_proto_.getBuffer = function () {\n    return this._uint8Array.buffer;\n},\n/**\r\n * 获取len个bit位\r\n * @param  number len bit长度\r\n * @return  number 整数\r\n */\n_proto_.getBits = function (len) {\n    var sum = 0;\n    var byte = 0;\n    if (this._bytePos >= this._uint8Array.length) return false;\n    for (var i = 0; i < len && this._bytePos < this._uint8Array.length; i++) {\n        byte = this._uint8Array[this._bytePos];\n        sum = sum << 1 | byte >> 7 - this._bitPos & 1;\n        this._bitPos++;\n        if (this._bitPos % 8 == 0) {\n            this._bytePos++;\n            this._bitPos = 0;\n        }\n    }\n    return sum;\n};\n/**\r\n * 获取1个bit位\r\n * @return  number 0|1\r\n */\n_proto_.getBits1 = function (len) {\n    if (this._bytePos >= this._uint8Array.length) return false;\n    var bit = this._uint8Array[this._bytePos] >> 7 - this._bitPos & 1;\n    this._bitPos++;\n    if (this._bitPos % 8 == 0) {\n        this._bytePos++;\n        this._bitPos = 0;\n    }\n    return bit;\n};\n/**\r\n * 获取1个字节\r\n * @return  number 0|1\r\n */\n_proto_.getByte = function () {\n    if (this._bytePos >= this._uint8Array.length) return false;\n    var byte = this._uint8Array[this._bytePos];\n    this._bytePos++;\n    return byte;\n};\n/**\r\n * 获取len个bit位二进制字符串\r\n * @param  number len bit长度\r\n * @param  boolean zeroize 头部是否补0\r\n * @return  string 二进制字符串\r\n */\n_proto_.getBitsStr = function (len, zeroize) {\n    var str = this.getBits(len).toString(2);\n    if (str.legnth < len) {\n        var zeros = '';\n        for (var i = 0; i < len - str.length; i++) {\n            zeros += '0';\n        }\n        str = zeros + str;\n    }\n    return str;\n};\n/**\r\n * 返回字节位置\r\n * @retrun  number pos 位置\r\n */\n_proto_.getBytePos = function (pos) {\n    return this._bytePos;\n};\n/**\r\n * 返回bit位置\r\n * @retrun  number pos 位置\r\n */\n_proto_.getBitPos = function (pos) {\n    return this._bitPos;\n};\n/**\r\n * 设置字节位置\r\n * @param  number pos 位置\r\n */\n_proto_.setBytePos = function (pos) {\n    if (pos > this._uint8Array.length) {\n        pos = this._uint8Array.length;\n    }\n    this._bytePos = pos;\n};\n/**\r\n * 设置bit位置\r\n * @param  number pos 位置\r\n */\n_proto_.setBitPos = function (pos) {\n    this._bitPos = pos % 8;\n};\n/**\r\n * 设置一位bit\r\n */\n_proto_.setBit = function (bytePos, bitPos, bit) {\n    var byte = bit << bitPos & 0xff;\n    if (bytePos >= this._uint8Array.length) {\n        return;\n    }\n    this._uint8Array[bytePos] = this._uint8Array[bytePos] & byte;\n};\n/**\r\n * 设置一位bit\r\n */\n_proto_.setByte = function (bytePos, byte) {\n    if (bytePos >= this._uint8Array.length) {\n        return;\n    }\n    this._uint8Array[bytePos] = byte;\n};\n/**\r\n * 跳过len个bit\r\n */\n_proto_.skipBits = function (len) {\n    this._bytePos = this._bytePos + ((this._bitPos + len) / 8 >> 0);\n    this._bitPos = (this._bitPos + len) % 8;\n    if (this._bytePos > this._uint8Array.length) {\n        this._bytePos = this._uint8Array.length;\n    }\n};\n/**\r\n * 跳过len个byte\r\n */\n_proto_.skipBytes = function (len) {\n    this._bytePos = this._bytePos + len;\n    if (this._bytePos > this._uint8Array.length) {\n        this._bytePos = this._uint8Array.length;\n    }\n};\n/**\r\n * 回退len个bit\r\n */\n_proto_.rewindBits = function (len) {\n    this._bitPos = this._bitPos - len;\n    if (this._bitPos < 0) {\n        this._bitPos = 0;\n    }\n};\n/**\r\n * 回退len个byte\r\n */\n_proto_.rewindBytes = function (len) {\n    this._bytePos = this._bytePos - len;\n    if (this._bytePos < 0) {\n        this._bytePos = 0;\n    }\n};\n/**\r\n * 在尾部添加字节\r\n * @return  返回新的buffer\r\n */\n_proto_.append = function (arrayBuffer) {\n    var newBuffer = new ArrayBuffer(this._uint8Array.length + arrayBuffer.length);\n    this._uint8Array = new Uint8Array(newBuffer);\n    this._uint8Array.set(arrayBuffer, this._uint8Array.length - arrayBuffer.length);\n    return newBuffer;\n};\n/**\r\n * 在头部添加字节\r\n * @return  返回新的buffer\r\n */\n_proto_.unshift = function (arrayBuffer) {\n    var newBuffer = new ArrayBuffer(this._uint8Array.length + arrayBuffer.length);\n    this._uint8Array = new Uint8Array(newBuffer);\n    this._uint8Array.set(arrayBuffer, 0);\n    return newBuffer;\n};\n/**\r\n * 是否已到达最后一个bit\r\n * @return  boolean\r\n */\n_proto_.isEnd = function () {\n    return this._bytePos >= this._uint8Array.length;\n};\n/**\r\n * 返回流字节个数\r\n * @return  number\r\n */\n_proto_.getSize = function () {\n    return this._uint8Array.length;\n};\n/**\r\n * 重头开始\r\n */\n_proto_.reset = function () {\n    this._bitPos = 0;\n    this._bytePos = 0;\n};\n/**\r\n * 比特流数组截取\r\n * @param  {number} begin 开始索引\r\n * @param  {number} end   结束索引\r\n * @return {arrary}       比特流数组\r\n */\n_proto_.slice = function (begin, end) {\n    return this._uint8Array.slice(begin, end);\n};\n/**\r\n * 追加数据\r\n * @param  {object} byteArr 二进制数组\r\n */\n_proto_.append = function (byteArr) {\n    var tmp = new Uint8Array(this.getSize());\n    if (this._bytePos > 0) {\n        tmp.set(this._uint8Array.slice(this._bytePos), 0);\n        tmp.set(byteArr, this.end);\n    } else {\n        tmp.set(byteArr, 0);\n    }\n    this.end = this._bytePos + byteArr.length; //有效数据尾\n    this._uint8Array = tmp;\n    this._bytePos = 0;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BitStream);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tbW9uL2JpdHN0cmVhbS5qcz8wMGViIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBiaXTmtYHmqKHlnZdcclxuICovXHJcbmZ1bmN0aW9uIEJpdFN0cmVhbShhcnJheUJ1ZmZlcikge1xyXG4gICAgaWYgKGFycmF5QnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcclxuICAgICAgICB0aGlzLl91aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYXJyYXlCdWZmZXIgPT0gJ251bWJlcicpIHtcclxuICAgICAgICBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5fdWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ+WPguaVsOmUmeivrycpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fYnl0ZVBvcyA9IDA7IC8v5b2T5YmNYml05L2N572uXHJcbiAgICB0aGlzLl9iaXRQb3MgPSAwOyAvL+W9k+WJjeWtl+iKguS9jee9rlxyXG4gICAgdGhpcy5idWZmZXIgPSBhcnJheUJ1ZmZlcjtcclxuICAgIHRoaXMuZW5kID0gMDtcclxufVxyXG52YXIgX3Byb3RvXyA9IEJpdFN0cmVhbS5wcm90b3R5cGU7XHJcbi8qKlxyXG4gKiDov5Tlm55idWZmZXJcclxuICogQHJldHVybiAgYXJyYXlidWZmZXJcclxuICovXHJcbl9wcm90b18uZ2V0QnVmZmVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpbnQ4QXJyYXkuYnVmZmVyO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog6I635Y+WbGVu5LiqYml05L2NXHJcbiAgICAgKiBAcGFyYW0gIG51bWJlciBsZW4gYml06ZW/5bqmXHJcbiAgICAgKiBAcmV0dXJuICBudW1iZXIg5pW05pWwXHJcbiAgICAgKi9cclxuICAgIF9wcm90b18uZ2V0Qml0cyA9IGZ1bmN0aW9uKGxlbikge1xyXG4gICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgIHZhciBieXRlID0gMDtcclxuICAgICAgICBpZiAodGhpcy5fYnl0ZVBvcyA+PSB0aGlzLl91aW50OEFycmF5Lmxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuICYmIHRoaXMuX2J5dGVQb3MgPCB0aGlzLl91aW50OEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJ5dGUgPSB0aGlzLl91aW50OEFycmF5W3RoaXMuX2J5dGVQb3NdO1xyXG4gICAgICAgICAgICBzdW0gPSAoc3VtIDw8IDEpIHwgKChieXRlID4+ICg3IC0gdGhpcy5fYml0UG9zKSkgJiAxKTtcclxuICAgICAgICAgICAgdGhpcy5fYml0UG9zKys7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9iaXRQb3MgJSA4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2J5dGVQb3MrKztcclxuICAgICAgICAgICAgICAgIHRoaXMuX2JpdFBvcyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgIH1cclxuLyoqXHJcbiAqIOiOt+WPljHkuKpiaXTkvY1cclxuICogQHJldHVybiAgbnVtYmVyIDB8MVxyXG4gKi9cclxuX3Byb3RvXy5nZXRCaXRzMSA9IGZ1bmN0aW9uKGxlbikge1xyXG4gICAgaWYgKHRoaXMuX2J5dGVQb3MgPj0gdGhpcy5fdWludDhBcnJheS5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgdmFyIGJpdCA9ICh0aGlzLl91aW50OEFycmF5W3RoaXMuX2J5dGVQb3NdID4+ICg3IC0gdGhpcy5fYml0UG9zKSkgJiAxO1xyXG4gICAgdGhpcy5fYml0UG9zKys7XHJcbiAgICBpZiAodGhpcy5fYml0UG9zICUgOCA9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5fYnl0ZVBvcysrO1xyXG4gICAgICAgIHRoaXMuX2JpdFBvcyA9IDA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYml0O1xyXG59XHJcbi8qKlxyXG4gKiDojrflj5Yx5Liq5a2X6IqCXHJcbiAqIEByZXR1cm4gIG51bWJlciAwfDFcclxuICovXHJcbl9wcm90b18uZ2V0Qnl0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuX2J5dGVQb3MgPj0gdGhpcy5fdWludDhBcnJheS5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgdmFyIGJ5dGUgPSB0aGlzLl91aW50OEFycmF5W3RoaXMuX2J5dGVQb3NdO1xyXG4gICAgdGhpcy5fYnl0ZVBvcysrO1xyXG4gICAgcmV0dXJuIGJ5dGU7XHJcbn1cclxuLyoqXHJcbiAqIOiOt+WPlmxlbuS4qmJpdOS9jeS6jOi/m+WItuWtl+espuS4slxyXG4gKiBAcGFyYW0gIG51bWJlciBsZW4gYml06ZW/5bqmXHJcbiAqIEBwYXJhbSAgYm9vbGVhbiB6ZXJvaXplIOWktOmDqOaYr+WQpuihpTBcclxuICogQHJldHVybiAgc3RyaW5nIOS6jOi/m+WItuWtl+espuS4slxyXG4gKi9cclxuX3Byb3RvXy5nZXRCaXRzU3RyID0gZnVuY3Rpb24obGVuLCB6ZXJvaXplKSB7XHJcbiAgICB2YXIgc3RyID0gdGhpcy5nZXRCaXRzKGxlbikudG9TdHJpbmcoMik7XHJcbiAgICBpZiAoc3RyLmxlZ250aCA8IGxlbikge1xyXG4gICAgICAgIHZhciB6ZXJvcyA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuIC0gc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHplcm9zICs9ICcwJztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RyID0gemVyb3MgKyBzdHI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyO1xyXG59XHJcbi8qKlxyXG4gKiDov5Tlm57lrZfoioLkvY3nva5cclxuICogQHJldHJ1biAgbnVtYmVyIHBvcyDkvY3nva5cclxuICovXHJcbl9wcm90b18uZ2V0Qnl0ZVBvcyA9IGZ1bmN0aW9uKHBvcykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2J5dGVQb3M7XHJcbn1cclxuLyoqXHJcbiAqIOi/lOWbnmJpdOS9jee9rlxyXG4gKiBAcmV0cnVuICBudW1iZXIgcG9zIOS9jee9rlxyXG4gKi9cclxuX3Byb3RvXy5nZXRCaXRQb3MgPSBmdW5jdGlvbihwb3MpIHtcclxuICAgIHJldHVybiB0aGlzLl9iaXRQb3M7XHJcbn1cclxuLyoqXHJcbiAqIOiuvue9ruWtl+iKguS9jee9rlxyXG4gKiBAcGFyYW0gIG51bWJlciBwb3Mg5L2N572uXHJcbiAqL1xyXG5fcHJvdG9fLnNldEJ5dGVQb3MgPSBmdW5jdGlvbihwb3MpIHtcclxuICAgIGlmIChwb3MgPiB0aGlzLl91aW50OEFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHBvcyA9IHRoaXMuX3VpbnQ4QXJyYXkubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fYnl0ZVBvcyA9IHBvcztcclxufVxyXG4vKipcclxuICog6K6+572uYml05L2N572uXHJcbiAqIEBwYXJhbSAgbnVtYmVyIHBvcyDkvY3nva5cclxuICovXHJcbl9wcm90b18uc2V0Qml0UG9zID0gZnVuY3Rpb24ocG9zKSB7XHJcbiAgICB0aGlzLl9iaXRQb3MgPSBwb3MgJSA4O1xyXG59XHJcbi8qKlxyXG4gKiDorr7nva7kuIDkvY1iaXRcclxuICovXHJcbl9wcm90b18uc2V0Qml0ID0gZnVuY3Rpb24oYnl0ZVBvcywgYml0UG9zLCBiaXQpIHtcclxuICAgIHZhciBieXRlID0gYml0IDw8IGJpdFBvcyAmIDB4ZmY7XHJcbiAgICBpZiAoYnl0ZVBvcyA+PSB0aGlzLl91aW50OEFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX3VpbnQ4QXJyYXlbYnl0ZVBvc10gPSB0aGlzLl91aW50OEFycmF5W2J5dGVQb3NdICYgYnl0ZTtcclxufVxyXG4vKipcclxuICog6K6+572u5LiA5L2NYml0XHJcbiAqL1xyXG5fcHJvdG9fLnNldEJ5dGUgPSBmdW5jdGlvbihieXRlUG9zLCBieXRlKSB7XHJcbiAgICBpZiAoYnl0ZVBvcyA+PSB0aGlzLl91aW50OEFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX3VpbnQ4QXJyYXlbYnl0ZVBvc10gPSBieXRlO1xyXG59XHJcbi8qKlxyXG4gKiDot7Pov4dsZW7kuKpiaXRcclxuICovXHJcbl9wcm90b18uc2tpcEJpdHMgPSBmdW5jdGlvbihsZW4pIHtcclxuICAgIHRoaXMuX2J5dGVQb3MgPSB0aGlzLl9ieXRlUG9zICsgKCgodGhpcy5fYml0UG9zICsgbGVuKSAvIDgpID4+IDApO1xyXG4gICAgdGhpcy5fYml0UG9zID0gKHRoaXMuX2JpdFBvcyArIGxlbikgJSA4O1xyXG4gICAgaWYgKHRoaXMuX2J5dGVQb3MgPiB0aGlzLl91aW50OEFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuX2J5dGVQb3MgPSB0aGlzLl91aW50OEFycmF5Lmxlbmd0aDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICog6Lez6L+HbGVu5LiqYnl0ZVxyXG4gKi9cclxuX3Byb3RvXy5za2lwQnl0ZXMgPSBmdW5jdGlvbihsZW4pIHtcclxuICAgIHRoaXMuX2J5dGVQb3MgPSB0aGlzLl9ieXRlUG9zICsgbGVuO1xyXG4gICAgaWYgKHRoaXMuX2J5dGVQb3MgPiB0aGlzLl91aW50OEFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuX2J5dGVQb3MgPSB0aGlzLl91aW50OEFycmF5Lmxlbmd0aDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICog5Zue6YCAbGVu5LiqYml0XHJcbiAqL1xyXG5fcHJvdG9fLnJld2luZEJpdHMgPSBmdW5jdGlvbihsZW4pIHtcclxuICAgIHRoaXMuX2JpdFBvcyA9IHRoaXMuX2JpdFBvcyAtIGxlbjtcclxuICAgIGlmICh0aGlzLl9iaXRQb3MgPCAwKSB7XHJcbiAgICAgICAgdGhpcy5fYml0UG9zID0gMDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICog5Zue6YCAbGVu5LiqYnl0ZVxyXG4gKi9cclxuX3Byb3RvXy5yZXdpbmRCeXRlcyA9IGZ1bmN0aW9uKGxlbikge1xyXG4gICAgdGhpcy5fYnl0ZVBvcyA9IHRoaXMuX2J5dGVQb3MgLSBsZW47XHJcbiAgICBpZiAodGhpcy5fYnl0ZVBvcyA8IDApIHtcclxuICAgICAgICB0aGlzLl9ieXRlUG9zID0gMDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICog5Zyo5bC+6YOo5re75Yqg5a2X6IqCXHJcbiAqIEByZXR1cm4gIOi/lOWbnuaWsOeahGJ1ZmZlclxyXG4gKi9cclxuX3Byb3RvXy5hcHBlbmQgPSBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xyXG4gICAgdmFyIG5ld0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLl91aW50OEFycmF5Lmxlbmd0aCArIGFycmF5QnVmZmVyLmxlbmd0aCk7XHJcbiAgICB0aGlzLl91aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3QnVmZmVyKTtcclxuICAgIHRoaXMuX3VpbnQ4QXJyYXkuc2V0KGFycmF5QnVmZmVyLCB0aGlzLl91aW50OEFycmF5Lmxlbmd0aCAtIGFycmF5QnVmZmVyLmxlbmd0aCk7XHJcbiAgICByZXR1cm4gbmV3QnVmZmVyO1xyXG59XHJcbi8qKlxyXG4gKiDlnKjlpLTpg6jmt7vliqDlrZfoioJcclxuICogQHJldHVybiAg6L+U5Zue5paw55qEYnVmZmVyXHJcbiAqL1xyXG5fcHJvdG9fLnVuc2hpZnQgPSBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xyXG4gICAgdmFyIG5ld0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLl91aW50OEFycmF5Lmxlbmd0aCArIGFycmF5QnVmZmVyLmxlbmd0aCk7XHJcbiAgICB0aGlzLl91aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3QnVmZmVyKTtcclxuICAgIHRoaXMuX3VpbnQ4QXJyYXkuc2V0KGFycmF5QnVmZmVyLCAwKTtcclxuICAgIHJldHVybiBuZXdCdWZmZXI7XHJcbn1cclxuLyoqXHJcbiAqIOaYr+WQpuW3suWIsOi+vuacgOWQjuS4gOS4qmJpdFxyXG4gKiBAcmV0dXJuICBib29sZWFuXHJcbiAqL1xyXG5fcHJvdG9fLmlzRW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYnl0ZVBvcyA+PSB0aGlzLl91aW50OEFycmF5Lmxlbmd0aDtcclxufVxyXG4vKipcclxuICog6L+U5Zue5rWB5a2X6IqC5Liq5pWwXHJcbiAqIEByZXR1cm4gIG51bWJlclxyXG4gKi9cclxuX3Byb3RvXy5nZXRTaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdWludDhBcnJheS5sZW5ndGg7XHJcbn1cclxuLyoqXHJcbiAqIOmHjeWktOW8gOWni1xyXG4gKi9cclxuX3Byb3RvXy5yZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fYml0UG9zID0gMDtcclxuICAgIHRoaXMuX2J5dGVQb3MgPSAwO1xyXG59XHJcbi8qKlxyXG4gKiDmr5TnibnmtYHmlbDnu4TmiKrlj5ZcclxuICogQHBhcmFtICB7bnVtYmVyfSBiZWdpbiDlvIDlp4vntKLlvJVcclxuICogQHBhcmFtICB7bnVtYmVyfSBlbmQgICDnu5PmnZ/ntKLlvJVcclxuICogQHJldHVybiB7YXJyYXJ5fSAgICAgICDmr5TnibnmtYHmlbDnu4RcclxuICovXHJcbl9wcm90b18uc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdWludDhBcnJheS5zbGljZShiZWdpbiwgZW5kKTtcclxufVxyXG4vKipcclxuICog6L+95Yqg5pWw5o2uXHJcbiAqIEBwYXJhbSAge29iamVjdH0gYnl0ZUFyciDkuozov5vliLbmlbDnu4RcclxuICovXHJcbl9wcm90b18uYXBwZW5kID0gZnVuY3Rpb24oYnl0ZUFycikge1xyXG4gICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZ2V0U2l6ZSgpKTtcclxuICAgIGlmICh0aGlzLl9ieXRlUG9zID4gMCkge1xyXG4gICAgICAgIHRtcC5zZXQodGhpcy5fdWludDhBcnJheS5zbGljZSh0aGlzLl9ieXRlUG9zKSwgMCk7XHJcbiAgICAgICAgdG1wLnNldChieXRlQXJyLCB0aGlzLmVuZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRtcC5zZXQoYnl0ZUFyciwgMCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVuZCA9IHRoaXMuX2J5dGVQb3MgKyBieXRlQXJyLmxlbmd0aDsgLy/mnInmlYjmlbDmja7lsL5cclxuICAgIHRoaXMuX3VpbnQ4QXJyYXkgPSB0bXA7XHJcbiAgICB0aGlzLl9ieXRlUG9zID0gMDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQml0U3RyZWFtO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvY29tbW9uL2JpdHN0cmVhbS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var Util = {};\n\n//ArrayBuffer转16进制字符串\nUtil.arrayBufferToHexChar = function (arrayBuffer) {\n    var bufferStr = '';\n    var uint8Array = new Uint8Array(arrayBuffer);\n    for (var i = 0; i < uint8Array.length; i++) {\n        if (uint8Array[i] <= 15) {\n            bufferStr += '0' + uint8Array[i].toString(16);\n        } else {\n            bufferStr += uint8Array[i].toString(16);\n        }\n        bufferStr += ',';\n    }\n    return bufferStr.slice(0, bufferStr.length - 1);\n};\n\n/**\r\n * 根据同步标识返回相应数据长度\r\n * @param  {ArrayBuffer} arrayBuffer 音频源数据\r\n * @param  {String}      frameSync   16进制同步字符串标识\r\n * @param  {Number}      offset      正向查找时头部需要跳过的字节数\r\n * @param  {Boolean}     reverse     查找方向\r\n * @param  {Number}      frameSize   逆向查找时需要返回多少帧数据长度\r\n * @return {Number}                  数据长度\r\n */\nUtil.getLengthByFrameSync = function (arrayBuffer, frameSync, offset, reverse, frameSize) {\n    var i = 0;\n    var count = 200;\n    var bufferStr = '';\n    var uint8Array = new Uint8Array(arrayBuffer);\n    offset = offset || 0;\n    frameSize = frameSize || 1;\n    if (!reverse) {\n        while (true) {\n            for (; i < count && i < uint8Array.length; i++) {\n                if (uint8Array[i] <= 15) {\n                    bufferStr += '0' + uint8Array[i].toString(16);\n                } else {\n                    bufferStr += uint8Array[i].toString(16);\n                }\n                bufferStr += ',';\n            }\n            bufferStr = bufferStr.toUpperCase();\n            if (bufferStr.indexOf(frameSync, offset * 3) != -1) {\n                return bufferStr.indexOf(frameSync, offset * 3) / 3;\n            }\n            if (i >= uint8Array.length) {\n                return 0;\n            }\n            count += 200;\n        }\n    } else {\n        var flagReg = new RegExp(frameSync, 'g');\n        var match = null;\n        i = uint8Array.length - 1;\n        count = uint8Array.length - 200;\n        while (true) {\n            for (; i > count && i > 0; i--) {\n                if (uint8Array[i] <= 15) {\n                    bufferStr = '0' + uint8Array[i].toString(16) + ',' + bufferStr;\n                } else {\n                    bufferStr = uint8Array[i].toString(16) + ',' + bufferStr;\n                }\n            }\n            bufferStr = bufferStr.toUpperCase();\n            match = bufferStr.match(flagReg);\n            if (match && match.length >= frameSize) {\n                //找出多少帧\n                return bufferStr.length / 3 - bufferStr.indexOf(frameSync) / 3;\n            }\n            if (i == 0) {\n                return 0;\n            }\n            count -= 200;\n        }\n    }\n};\n\nUtil.formatCountDown = function (seconds, noZero) {\n    var date = new Date();\n    date.setDate(0);\n    date.setHours(0);\n    date.setMinutes(0);\n    date.setSeconds(0);\n    date.setSeconds(seconds);\n    var data = {\n        date: Math.floor(seconds / (60 * 60 * 24)),\n        hours: date.getHours(),\n        minutes: date.getMinutes(),\n        seconds: date.getSeconds()\n    };\n    if (!noZero) {\n        data.date = data.date >= 10 ? data.date : '0' + data.date;\n        data.hours = data.hours >= 10 ? data.hours : '0' + data.hours;\n        data.minutes = data.minutes >= 10 ? data.minutes : '0' + data.minutes;\n        data.seconds = data.seconds >= 10 ? data.seconds : '0' + data.seconds;\n    }\n    return data;\n};\n\nUtil.ifDebug = function () {\n    return location.href.indexOf('debug') > -1;\n};\n\nUtil.log = function () {\n    if (location.search.indexOf('audio-debug') > -1) {\n        console.log.apply(window, arguments);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Util);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tbW9uL3V0aWwuanM/ZmRhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVXRpbCA9IHt9O1xyXG5cclxuLy9BcnJheUJ1ZmZlcui9rDE26L+b5Yi25a2X56ym5LiyXHJcblV0aWwuYXJyYXlCdWZmZXJUb0hleENoYXIgPSBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xyXG4gICAgdmFyIGJ1ZmZlclN0ciA9ICcnO1xyXG4gICAgdmFyIHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVpbnQ4QXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAodWludDhBcnJheVtpXSA8PSAxNSkge1xyXG4gICAgICAgICAgICBidWZmZXJTdHIgKz0gJzAnICsgdWludDhBcnJheVtpXS50b1N0cmluZygxNik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnVmZmVyU3RyICs9IHVpbnQ4QXJyYXlbaV0udG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidWZmZXJTdHIgKz0gJywnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJ1ZmZlclN0ci5zbGljZSgwLCBidWZmZXJTdHIubGVuZ3RoIC0gMSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja7lkIzmraXmoIfor4bov5Tlm57nm7jlupTmlbDmja7plb/luqZcclxuICogQHBhcmFtICB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIOmfs+mikea6kOaVsOaNrlxyXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgZnJhbWVTeW5jICAgMTbov5vliLblkIzmraXlrZfnrKbkuLLmoIfor4ZcclxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgIG9mZnNldCAgICAgIOato+WQkeafpeaJvuaXtuWktOmDqOmcgOimgei3s+i/h+eahOWtl+iKguaVsFxyXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgICAgcmV2ZXJzZSAgICAg5p+l5om+5pa55ZCRXHJcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICBmcmFtZVNpemUgICDpgIblkJHmn6Xmib7ml7bpnIDopoHov5Tlm57lpJrlsJHluKfmlbDmja7plb/luqZcclxuICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICAgICAgICAgIOaVsOaNrumVv+W6plxyXG4gKi9cclxuVXRpbC5nZXRMZW5ndGhCeUZyYW1lU3luYyA9IGZ1bmN0aW9uKGFycmF5QnVmZmVyLCBmcmFtZVN5bmMsIG9mZnNldCwgcmV2ZXJzZSwgZnJhbWVTaXplKSB7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgY291bnQgPSAyMDA7XHJcbiAgICB2YXIgYnVmZmVyU3RyID0gJyc7XHJcbiAgICB2YXIgdWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcclxuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xyXG4gICAgZnJhbWVTaXplID0gZnJhbWVTaXplIHx8IDE7XHJcbiAgICBpZiAoIXJldmVyc2UpIHtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IGNvdW50ICYmIGkgPCB1aW50OEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodWludDhBcnJheVtpXSA8PSAxNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlclN0ciArPSAnMCcgKyB1aW50OEFycmF5W2ldLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyU3RyICs9IHVpbnQ4QXJyYXlbaV0udG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnVmZmVyU3RyICs9ICcsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidWZmZXJTdHIgPSBidWZmZXJTdHIudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYgKGJ1ZmZlclN0ci5pbmRleE9mKGZyYW1lU3luYywgb2Zmc2V0ICogMykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJTdHIuaW5kZXhPZihmcmFtZVN5bmMsIG9mZnNldCAqIDMpIC8gMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSA+PSB1aW50OEFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY291bnQgKz0gMjAwO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGZsYWdSZWcgPSBuZXcgUmVnRXhwKGZyYW1lU3luYywgJ2cnKTtcclxuICAgICAgICB2YXIgbWF0Y2ggPSBudWxsO1xyXG4gICAgICAgIGkgPSB1aW50OEFycmF5Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgY291bnQgPSB1aW50OEFycmF5Lmxlbmd0aCAtIDIwMDtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA+IGNvdW50ICYmIGkgPiAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmICh1aW50OEFycmF5W2ldIDw9IDE1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyU3RyID0gJzAnICsgdWludDhBcnJheVtpXS50b1N0cmluZygxNikgKyAnLCcgKyBidWZmZXJTdHI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlclN0ciA9IHVpbnQ4QXJyYXlbaV0udG9TdHJpbmcoMTYpICsgJywnICsgYnVmZmVyU3RyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ1ZmZlclN0ciA9IGJ1ZmZlclN0ci50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBtYXRjaCA9IGJ1ZmZlclN0ci5tYXRjaChmbGFnUmVnKTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA+PSBmcmFtZVNpemUpIHsgLy/mib7lh7rlpJrlsJHluKdcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJTdHIubGVuZ3RoIC8gMyAtIGJ1ZmZlclN0ci5pbmRleE9mKGZyYW1lU3luYykgLyAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvdW50IC09IDIwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblV0aWwuZm9ybWF0Q291bnREb3duID0gZnVuY3Rpb24oc2Vjb25kcywgbm9aZXJvKSB7XHJcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBkYXRlLnNldERhdGUoMCk7XHJcbiAgICBkYXRlLnNldEhvdXJzKDApO1xyXG4gICAgZGF0ZS5zZXRNaW51dGVzKDApO1xyXG4gICAgZGF0ZS5zZXRTZWNvbmRzKDApO1xyXG4gICAgZGF0ZS5zZXRTZWNvbmRzKHNlY29uZHMpO1xyXG4gICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgZGF0ZTogTWF0aC5mbG9vcihzZWNvbmRzIC8gKDYwICogNjAgKiAyNCkpLFxyXG4gICAgICAgIGhvdXJzOiBkYXRlLmdldEhvdXJzKCksXHJcbiAgICAgICAgbWludXRlczogZGF0ZS5nZXRNaW51dGVzKCksXHJcbiAgICAgICAgc2Vjb25kczogZGF0ZS5nZXRTZWNvbmRzKClcclxuICAgIH1cclxuICAgIGlmICghbm9aZXJvKSB7XHJcbiAgICAgICAgZGF0YS5kYXRlID0gZGF0YS5kYXRlID49IDEwID8gZGF0YS5kYXRlIDogJzAnICsgZGF0YS5kYXRlO1xyXG4gICAgICAgIGRhdGEuaG91cnMgPSBkYXRhLmhvdXJzID49IDEwID8gZGF0YS5ob3VycyA6ICcwJyArIGRhdGEuaG91cnM7XHJcbiAgICAgICAgZGF0YS5taW51dGVzID0gZGF0YS5taW51dGVzID49IDEwID8gZGF0YS5taW51dGVzIDogJzAnICsgZGF0YS5taW51dGVzO1xyXG4gICAgICAgIGRhdGEuc2Vjb25kcyA9IGRhdGEuc2Vjb25kcyA+PSAxMCA/IGRhdGEuc2Vjb25kcyA6ICcwJyArIGRhdGEuc2Vjb25kcztcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5VdGlsLmlmRGVidWcgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIGxvY2F0aW9uLmhyZWYuaW5kZXhPZignZGVidWcnKSA+IC0xO1xyXG59XHJcblxyXG5VdGlsLmxvZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdhdWRpby1kZWJ1ZycpID4gLTEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZy5hcHBseSh3aW5kb3csIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFV0aWw7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9jb21tb24vdXRpbC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/**\r\n * 分段下载\r\n * @param  {int}  begin  字节开始位置\r\n * @param  {int}  end  字节结束位置(包括)\r\n * @param  {Functio}  callback  成功回调\r\n */\nfunction _loadRange(url, begin, end, opt) {\n    var request = new XMLHttpRequest();\n    var emptyCb = function () {};\n    var onsuccess, onerror, onabort, ontimeout;\n    onsuccess = onerror = onabort = ontimeout = emptyCb;\n    begin = begin || 0;\n    end = end || '';\n    if (typeof opt == 'object') {\n        opt.onsuccess && (onsuccess = opt.onsuccess);\n        opt.onerror && (onerror = opt.onerror);\n        opt.onabort && (onabort = opt.onabort);\n        opt.ontimeout && (ontimeout = opt.ontimeout);\n    }\n    request.open('GET', url, true);\n    request.responseType = 'arraybuffer';\n    request.onload = function () {\n        var arrayBuffer = request.response;\n        var contetnRange = request.getResponseHeader('Content-Range');\n\n        if (contetnRange && contetnRange.split('/')[0].substr(6) != begin + '-' + end) {\n            console.log(contetnRange.split('/')[0].substr(6), begin + '-' + end);\n            console.error('获取头部信息出错');\n            onerror('获取头部信息出错');\n        } else {\n            onsuccess(request);\n        }\n    };\n    request.onerror = onerror;\n    request.onabort = onabort;\n    request.ontimeout = ontimeout;\n\n    request.setRequestHeader(\"Range\", 'bytes=' + begin + '-' + end);\n    request.send();\n    return request;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (_loadRange);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tbW9uL3JhbmdlLmpzP2VlMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOWIhuauteS4i+i9vVxyXG4gKiBAcGFyYW0gIHtpbnR9ICBiZWdpbiAg5a2X6IqC5byA5aeL5L2N572uXHJcbiAqIEBwYXJhbSAge2ludH0gIGVuZCAg5a2X6IqC57uT5p2f5L2N572uKOWMheaLrClcclxuICogQHBhcmFtICB7RnVuY3Rpb30gIGNhbGxiYWNrICDmiJDlip/lm57osINcclxuICovXHJcbmZ1bmN0aW9uIF9sb2FkUmFuZ2UodXJsLCBiZWdpbiwgZW5kLCBvcHQpIHtcclxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB2YXIgZW1wdHlDYiA9IGZ1bmN0aW9uKCkge307XHJcbiAgICB2YXIgb25zdWNjZXNzLCBvbmVycm9yLCBvbmFib3J0LCBvbnRpbWVvdXQ7XHJcbiAgICBvbnN1Y2Nlc3MgPSBvbmVycm9yID0gb25hYm9ydCA9IG9udGltZW91dCA9IGVtcHR5Q2I7XHJcbiAgICBiZWdpbiA9IGJlZ2luIHx8IDA7XHJcbiAgICBlbmQgPSBlbmQgfHwgJyc7XHJcbiAgICBpZiAodHlwZW9mIG9wdCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIG9wdC5vbnN1Y2Nlc3MgJiYgKG9uc3VjY2VzcyA9IG9wdC5vbnN1Y2Nlc3MpO1xyXG4gICAgICAgIG9wdC5vbmVycm9yICYmIChvbmVycm9yID0gb3B0Lm9uZXJyb3IpO1xyXG4gICAgICAgIG9wdC5vbmFib3J0ICYmIChvbmFib3J0ID0gb3B0Lm9uYWJvcnQpO1xyXG4gICAgICAgIG9wdC5vbnRpbWVvdXQgJiYgKG9udGltZW91dCA9IG9wdC5vbnRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgYXJyYXlCdWZmZXIgPSByZXF1ZXN0LnJlc3BvbnNlO1xyXG4gICAgICAgIHZhciBjb250ZXRuUmFuZ2UgPSByZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVJhbmdlJyk7XHJcblxyXG4gICAgICAgIGlmIChjb250ZXRuUmFuZ2UgJiYgY29udGV0blJhbmdlLnNwbGl0KCcvJylbMF0uc3Vic3RyKDYpICE9IGJlZ2luICsgJy0nICsgZW5kKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRldG5SYW5nZS5zcGxpdCgnLycpWzBdLnN1YnN0cig2KSwgYmVnaW4gKyAnLScgKyBlbmQpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluWktOmDqOS/oeaBr+WHuumUmScpO1xyXG4gICAgICAgICAgICBvbmVycm9yKCfojrflj5blpLTpg6jkv6Hmga/lh7rplJknKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvbnN1Y2Nlc3MocmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVxdWVzdC5vbmVycm9yID0gb25lcnJvcjtcclxuICAgIHJlcXVlc3Qub25hYm9ydCA9IG9uYWJvcnQ7XHJcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IG9udGltZW91dDtcclxuXHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXCJSYW5nZVwiLCAnYnl0ZXM9JyArIGJlZ2luICsgJy0nICsgZW5kKTtcclxuICAgIHJlcXVlc3Quc2VuZCgpO1xyXG4gICAgcmV0dXJuIHJlcXVlc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9sb2FkUmFuZ2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9jb21tb24vcmFuZ2UuanMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */,
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_range__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_bitstream__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_util__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__header__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__id3tag__ = __webpack_require__(6);\n/**\r\n * MP3音频信息解析模块\r\n * http://wiki.hydrogenaud.io/index.php?title=APEv2_specification\r\n * http://www.docin.com/p-1261649617.html\r\n * https://www.codeproject.com/Articles/8295/MPEG-Audio-Frame-Header\r\n *\r\n * audioInfo需要包括的字段:{\r\n *      fileSize: 音频文件大小(byte),\r\n *      frameSync: 同步头（16进制字符串）,\r\n *      duration: 总时长（秒）,\r\n *      sampleRate: 采样率,\r\n *      audioDataOffset: audioData开始偏移量（相对于0字节位置）,\r\n *      totalSize: audioData总大小（仅当音频码率模式为VBR时返回）,\r\n *      toc: 音频数据索引表（仅当音频码率模式为VBR时返回）   \r\n * }\r\n */\n\n\n\n\n\n\n\n//MP3播放信息解析对象\nvar MP3Info = {\n    init: function (url, opt) {\n        var self = this;\n        var emptyFun = function () {};\n        this.url = url;\n        this.decrypt = this.loadedmetadataCb = emptyFun;\n        this.indexSize = 100; //分区数，默认100\n        this.audioInfo = {}; //存储mp3相关的信息\n        if (typeof opt == 'object') {\n            opt.decrypt && (this.decrypt = opt.decrypt);\n            opt.loadedmetadataCb && (this.loadedmetadataCb = opt.loadedmetadataCb);\n            opt.indexSize && (this.indexSize = opt.indexSize);\n        }\n        return new Promise(function (resolve, reject) {\n            self._loadHeaderInfo(resolve, reject);\n        }).then(function () {\n            return self._loadFirstFrame();\n        }).then(function (arrayBuffer) {\n            var header = new __WEBPACK_IMPORTED_MODULE_3__header__[\"a\" /* default */](new __WEBPACK_IMPORTED_MODULE_1__common_bitstream__[\"a\" /* default */](arrayBuffer));\n            var result = header.parseHeader(true);\n            if (result) {\n                self.audioInfo.toc = header.toc;\n                self.audioInfo.totalSize = header.totalBytes;\n                self.audioInfo.sampleRate = header.sampleRate;\n                self.audioInfo.frameSync = header.frameSync;\n                self.audioInfo.duration = header.totalDuration;\n                self.audioInfo.bitRate = header.bitRate;\n                if (!self.audioInfo.toc) {\n                    //cbr模式\n                    return self._getFooterLength();\n                } else {\n                    self.loadedmetadataCb(self.audioInfo.duration);\n                    return self.audioInfo;\n                }\n            } else {\n                return false;\n            }\n        });\n    },\n    //ajax获取音频头部标签头(32B)\n    _loadHeaderInfo: function (resolve, reject) {\n        var self = this;\n        Object(__WEBPACK_IMPORTED_MODULE_0__common_range__[\"a\" /* default */])(self.url, 0, 32 * 8 + 32 * 8 - 1, {\n            onsuccess: function (request) {\n                //加载前32个字节（判断是否存在ID3V2|Ape头）\n                var arrayBuffer = request.response;\n                var contetnRange = request.getResponseHeader('Content-Range');\n                var length = 0;\n                var id3tag = null;\n                self.decrypt(arrayBuffer); //解密\n                id3tag = new __WEBPACK_IMPORTED_MODULE_4__id3tag__[\"a\" /* default */](arrayBuffer);\n                self.audioInfo.audioDataOffset = id3tag.parseId3V2() + id3tag.parseApe();\n                self.audioInfo.fileSize = parseInt(contetnRange.substr(contetnRange.indexOf('/') + 1));\n                resolve();\n            }\n        });\n    },\n    //加载第一个数据帧(用来判断音频码率模式)\n    _loadFirstFrame: function (resolve, reject) {\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            Object(__WEBPACK_IMPORTED_MODULE_0__common_range__[\"a\" /* default */])(self.url, self.audioInfo.audioDataOffset, self.audioInfo.audioDataOffset + 156 * 8 - 1, {\n                onsuccess: function (request) {\n                    var arrayBuffer = request.response;\n                    self.decrypt(arrayBuffer); //解密\n                    resolve(arrayBuffer);\n                }\n            });\n        });\n    },\n    //获取尾部额外信息长度（可能存在id3v1或者ape信息）\n    _getFooterLength: function () {\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            Object(__WEBPACK_IMPORTED_MODULE_0__common_range__[\"a\" /* default */])(self.url, self.audioInfo.fileSize - (128 + 32), self.audioInfo.fileSize - 1, {\n                onsuccess: function (request) {\n                    var arrayBuffer = request.response;\n                    var id3tag = null;\n                    var length = 0;\n                    self.decrypt(arrayBuffer); //解密\n                    id3tag = new __WEBPACK_IMPORTED_MODULE_4__id3tag__[\"a\" /* default */](arrayBuffer);\n                    self.audioInfo.footerLength = id3tag.parseId3V1() + id3tag.parseApe();\n                    self.audioInfo.totalSize = self.audioInfo.fileSize - self.audioInfo.audioDataOffset - self.audioInfo.footerLength;\n                    self.audioInfo.duration = self.audioInfo.totalSize * 8 / self.audioInfo.bitRate;\n                    self.loadedmetadataCb(self.audioInfo);\n                    resolve(self.audioInfo);\n                }\n            });\n        });\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (MP3Info);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbXAzaW5mby9tcDNpbmZvLmpzP2ZmNjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1QM+mfs+mikeS/oeaBr+ino+aekOaooeWdl1xyXG4gKiBodHRwOi8vd2lraS5oeWRyb2dlbmF1ZC5pby9pbmRleC5waHA/dGl0bGU9QVBFdjJfc3BlY2lmaWNhdGlvblxyXG4gKiBodHRwOi8vd3d3LmRvY2luLmNvbS9wLTEyNjE2NDk2MTcuaHRtbFxyXG4gKiBodHRwczovL3d3dy5jb2RlcHJvamVjdC5jb20vQXJ0aWNsZXMvODI5NS9NUEVHLUF1ZGlvLUZyYW1lLUhlYWRlclxyXG4gKlxyXG4gKiBhdWRpb0luZm/pnIDopoHljIXmi6znmoTlrZfmrrU6e1xyXG4gKiAgICAgIGZpbGVTaXplOiDpn7PpopHmlofku7blpKflsI8oYnl0ZSksXHJcbiAqICAgICAgZnJhbWVTeW5jOiDlkIzmraXlpLTvvIgxNui/m+WItuWtl+espuS4su+8iSxcclxuICogICAgICBkdXJhdGlvbjog5oC75pe26ZW/77yI56eS77yJLFxyXG4gKiAgICAgIHNhbXBsZVJhdGU6IOmHh+agt+eOhyxcclxuICogICAgICBhdWRpb0RhdGFPZmZzZXQ6IGF1ZGlvRGF0YeW8gOWni+WBj+enu+mHj++8iOebuOWvueS6jjDlrZfoioLkvY3nva7vvIksXHJcbiAqICAgICAgdG90YWxTaXplOiBhdWRpb0RhdGHmgLvlpKflsI/vvIjku4XlvZPpn7PpopHnoIHnjofmqKHlvI/kuLpWQlLml7bov5Tlm57vvIksXHJcbiAqICAgICAgdG9jOiDpn7PpopHmlbDmja7ntKLlvJXooajvvIjku4XlvZPpn7PpopHnoIHnjofmqKHlvI/kuLpWQlLml7bov5Tlm57vvIkgICBcclxuICogfVxyXG4gKi9cclxuXHJcbmltcG9ydCByZXF1ZXN0UmFuZ2UgZnJvbSAnLi4vY29tbW9uL3JhbmdlJztcclxuaW1wb3J0IGJpdFN0cmVhbSBmcm9tICcuLi9jb21tb24vYml0c3RyZWFtJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vY29tbW9uL3V0aWwnO1xyXG5pbXBvcnQgTXAzSGVhZGVyIGZyb20gJy4vaGVhZGVyJztcclxuaW1wb3J0IE1wM0lkM1RhZyBmcm9tICcuL2lkM3RhZyc7XHJcblxyXG4vL01QM+aSreaUvuS/oeaBr+ino+aekOWvueixoVxyXG52YXIgTVAzSW5mbyA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uKHVybCwgb3B0KSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBlbXB0eUZ1biA9IGZ1bmN0aW9uKCkge307XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5kZWNyeXB0ID0gdGhpcy5sb2FkZWRtZXRhZGF0YUNiID0gZW1wdHlGdW47XHJcbiAgICAgICAgdGhpcy5pbmRleFNpemUgPSAxMDA7IC8v5YiG5Yy65pWw77yM6buY6K6kMTAwXHJcbiAgICAgICAgdGhpcy5hdWRpb0luZm8gPSB7fTsgLy/lrZjlgqhtcDPnm7jlhbPnmoTkv6Hmga9cclxuICAgICAgICBpZiAodHlwZW9mIG9wdCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBvcHQuZGVjcnlwdCAmJiAodGhpcy5kZWNyeXB0ID0gb3B0LmRlY3J5cHQpO1xyXG4gICAgICAgICAgICBvcHQubG9hZGVkbWV0YWRhdGFDYiAmJiAodGhpcy5sb2FkZWRtZXRhZGF0YUNiID0gb3B0LmxvYWRlZG1ldGFkYXRhQ2IpO1xyXG4gICAgICAgICAgICBvcHQuaW5kZXhTaXplICYmICh0aGlzLmluZGV4U2l6ZSA9IG9wdC5pbmRleFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2xvYWRIZWFkZXJJbmZvKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2xvYWRGaXJzdEZyYW1lKCk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gbmV3IE1wM0hlYWRlcihuZXcgYml0U3RyZWFtKGFycmF5QnVmZmVyKSk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoZWFkZXIucGFyc2VIZWFkZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuYXVkaW9JbmZvLnRvYyA9IGhlYWRlci50b2M7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvSW5mby50b3RhbFNpemUgPSBoZWFkZXIudG90YWxCeXRlcztcclxuICAgICAgICAgICAgICAgIHNlbGYuYXVkaW9JbmZvLnNhbXBsZVJhdGUgPSBoZWFkZXIuc2FtcGxlUmF0ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYuYXVkaW9JbmZvLmZyYW1lU3luYyA9IGhlYWRlci5mcmFtZVN5bmM7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvSW5mby5kdXJhdGlvbiA9IGhlYWRlci50b3RhbER1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hdWRpb0luZm8uYml0UmF0ZSA9IGhlYWRlci5iaXRSYXRlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLmF1ZGlvSW5mby50b2MpIHsgLy9jYnLmqKHlvI9cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0Rm9vdGVyTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZGVkbWV0YWRhdGFDYihzZWxmLmF1ZGlvSW5mby5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuYXVkaW9JbmZvO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLy9hamF46I635Y+W6Z+z6aKR5aS06YOo5qCH562+5aS0KDMyQilcclxuICAgIF9sb2FkSGVhZGVySW5mbzogZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHJlcXVlc3RSYW5nZShzZWxmLnVybCwgMCwgMzIgKiA4ICsgMzIgKiA4IC0gMSwge1xyXG4gICAgICAgICAgICBvbnN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcXVlc3QpIHsgLy/liqDovb3liY0zMuS4quWtl+iKgu+8iOWIpOaWreaYr+WQpuWtmOWcqElEM1YyfEFwZeWktO+8iVxyXG4gICAgICAgICAgICAgICAgdmFyIGFycmF5QnVmZmVyID0gcmVxdWVzdC5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZXRuUmFuZ2UgPSByZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVJhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBpZDN0YWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5kZWNyeXB0KGFycmF5QnVmZmVyKTsgLy/op6Plr4ZcclxuICAgICAgICAgICAgICAgIGlkM3RhZyA9IG5ldyBNcDNJZDNUYWcoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hdWRpb0luZm8uYXVkaW9EYXRhT2Zmc2V0ID0gaWQzdGFnLnBhcnNlSWQzVjIoKSArIGlkM3RhZy5wYXJzZUFwZSgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hdWRpb0luZm8uZmlsZVNpemUgPSBwYXJzZUludChjb250ZXRuUmFuZ2Uuc3Vic3RyKGNvbnRldG5SYW5nZS5pbmRleE9mKCcvJykgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvL+WKoOi9veesrOS4gOS4quaVsOaNruW4pyjnlKjmnaXliKTmlq3pn7PpopHnoIHnjofmqKHlvI8pXHJcbiAgICBfbG9hZEZpcnN0RnJhbWU6IGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RSYW5nZShzZWxmLnVybCwgc2VsZi5hdWRpb0luZm8uYXVkaW9EYXRhT2Zmc2V0LCBzZWxmLmF1ZGlvSW5mby5hdWRpb0RhdGFPZmZzZXQgKyAxNTYgKiA4IC0gMSwge1xyXG4gICAgICAgICAgICAgICAgb25zdWNjZXNzOiBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5QnVmZmVyID0gcmVxdWVzdC5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRlY3J5cHQoYXJyYXlCdWZmZXIpOyAvL+ino+WvhlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgLy/ojrflj5blsL7pg6jpop3lpJbkv6Hmga/plb/luqbvvIjlj6/og73lrZjlnKhpZDN2MeaIluiAhWFwZeS/oeaBr++8iVxyXG4gICAgX2dldEZvb3Rlckxlbmd0aDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgcmVxdWVzdFJhbmdlKHNlbGYudXJsLCBzZWxmLmF1ZGlvSW5mby5maWxlU2l6ZSAtICgxMjggKyAzMiksIHNlbGYuYXVkaW9JbmZvLmZpbGVTaXplIC0gMSwge1xyXG4gICAgICAgICAgICAgICAgb25zdWNjZXNzOiBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5QnVmZmVyID0gcmVxdWVzdC5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWQzdGFnID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRlY3J5cHQoYXJyYXlCdWZmZXIpOyAvL+ino+WvhlxyXG4gICAgICAgICAgICAgICAgICAgIGlkM3RhZyA9IG5ldyBNcDNJZDNUYWcoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYXVkaW9JbmZvLmZvb3Rlckxlbmd0aCA9IGlkM3RhZy5wYXJzZUlkM1YxKCkgKyBpZDN0YWcucGFyc2VBcGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvSW5mby50b3RhbFNpemUgPSBzZWxmLmF1ZGlvSW5mby5maWxlU2l6ZSAtIHNlbGYuYXVkaW9JbmZvLmF1ZGlvRGF0YU9mZnNldCAtIHNlbGYuYXVkaW9JbmZvLmZvb3Rlckxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmF1ZGlvSW5mby5kdXJhdGlvbiA9IHNlbGYuYXVkaW9JbmZvLnRvdGFsU2l6ZSAqIDggLyBzZWxmLmF1ZGlvSW5mby5iaXRSYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZGVkbWV0YWRhdGFDYihzZWxmLmF1ZGlvSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzZWxmLmF1ZGlvSW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTVAzSW5mbztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL21wM2luZm8vbXAzaW5mby5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQXZGQTtBQUNBO0FBeUZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_bitstream__ = __webpack_require__(0);\n/**\r\n * MP3音频帧头信息模块\r\n * http://www.docin.com/p-1261649617.html\r\n * https://www.codeproject.com/Articles/8295/MPEG-Audio-Frame-Header\r\n */\n\n\n\n//比特率对应表(bit/s) MEPG1.0 LayerIII\nvar bitRateMap = {\n    '1': 32000,\n    '10': 40000,\n    '11': 48000,\n    '100': 56000,\n    '101': 64000,\n    '110': 80000,\n    '111': 96000,\n    '1000': 112000,\n    '1001': 128000,\n    '1010': 160000,\n    '1011': 192000,\n    '1100': 224000,\n    '1101': 256000,\n    '1110': 320000\n    //采样率对应表(Hz) MEPG1.0 LayerIII\n};var sampleRateMap = {\n    '0': 44100,\n    '1': 48000,\n    '10': 32000\n};\n\nvar HEADER_MASK = 0xffe0 >> 5; //同步头\nvar MPEG1 = 3;\nvar LAYER3 = 1;\nvar MAX_TAG_OFF = 10 * 1024; //查找帧头，最多查找10K\n\nvar hasParseVbr = false;\n\nfunction Header(_bitStream) {\n    this.init(_bitStream);\n}\n\nvar _proto_ = Header.prototype;\n\n/**\r\n * 初始化\r\n * @param  {object} arrayBuffer 二进制数组\r\n */\n_proto_.init = function (_bitStream) {\n    this.bitStream = _bitStream;\n};\n/**\r\n * 解析帧头信息\r\n * @return object 比特流\r\n */\n_proto_.parseHeader = function () {\n    var mask = 0;\n    var beginPos = this.bitStream.getBytePos();\n    do {\n        mask = this.bitStream.getBits(11); //获取11位同步头\n        if (mask != HEADER_MASK) {\n            if (this.bitStream.isEnd()) {\n                break;\n            }\n            this.bitStream.rewindBits(3);\n            continue;\n        }\n        this.verID = this.bitStream.getBits(2); //MPEG版本\n        this.layer = this.bitStream.getBits(2); //MPEG层数\n        this.protectionBit = this.bitStream.getBits(1); //保护位\n        if (!this.frameSync) {\n            this.bitStream.rewindBytes(2);\n            this.frameSync = this.bitStream.getBits(8).toString(16) + ',' + this.bitStream.getBits(8).toString(16);\n            this.frameSync = this.frameSync.toUpperCase(); //同步头\n        }\n        this.bitrateIndex = this.bitStream.getBitsStr(4);\n        this.bitRate = bitRateMap[this.bitrateIndex]; //比特率\n        this.sampleRateIndex = this.bitStream.getBitsStr(2);\n        this.sampleRate = sampleRateMap[this.sampleRateIndex]; //采样路索引\n        this.paddingBit = this.bitStream.getBits(1); //填充位\n        this.privateBit = this.bitStream.getBits(1); //私有位\n        this.channelMode = this.bitStream.getBits(2); //声道模式\n        this.channelModeExtension = this.bitStream.getBits(2); //声道扩展模式\n        this.copyright = this.bitStream.getBits(1); //版权\n        this.original = this.bitStream.getBits(1); //填充位\n        this.emphasis = this.bitStream.getBits(2); //强调\n\n        if (this.verID != MPEG1 || this.layer != LAYER3) {\n            return false;\n        }\n\n        this.frameSize = bitRateMap[this.bitrateIndex] * 1152 / 8;\n        this.frameSize /= sampleRateMap[this.sampleRateIndex];\n        this.frameSize += this.paddingBit; //帧长度\n        this.sideInfoSize = this.channelMode == 3 ? 17 : 32; //帧边信息长度\n        this.duration = 1152 / sampleRateMap[this.sampleRateIndex]; //本帧时长\n\n        //计算主数据长度\n        this.mainDataSize = this.frameSize - 4 - this.sideInfoSize >> 0; //主数据长度\n        if (this.protectionBit == 0) this.mainDataSize -= 2; //CRC\n        break;\n    } while (this.bitStream.getBytePos() - beginPos < MAX_TAG_OFF);\n\n    if (this.bitStream.getBytePos() - beginPos >= MAX_TAG_OFF || this.bitStream.isEnd()) {\n        return false;\n    }\n\n    this.endBytePos = this.bitStream.getBytePos();\n    if (!hasParseVbr) {\n        hasParseVbr = true;\n        this.parseVbr();\n        if (this.toc) {\n            this.totalDuration = this.totalFrames * 1152 / sampleRateMap[this.sampleRateIndex]; //总时长\n        }\n    }\n    return this.bitStream;\n};\n/**\r\n * 解析vbr信息\r\n */\n_proto_.parseVbr = function () {\n    var flags = 0;\n    var tag = '';\n\n    do {\n        tag = String.fromCharCode(this.bitStream.getByte(), this.bitStream.getByte(), this.bitStream.getByte(), this.bitStream.getByte());\n        if (tag == 'Xing' || tag == 'Info') {\n            //Xing，Info头\n            this.tocSize = 100; //vbr索引表长度\n            flags = this.bitStream.getBits(32);\n            if (flags & 1) {\n                this.totalFrames = this.bitStream.getBits(32); //总帧数\n            }\n            if (flags & 2) {\n                this.totalBytes = this.bitStream.getBits(32); //总长度\n            }\n            if (flags & 4) {\n                this.toc = []; //vbr索引表\n                for (var i = 0; i < this.tocSize; i++) {\n                    this.toc[i] = this.bitStream.getByte();\n                }\n            }\n            this.bitStream.setBytePos(this.endBytePos);\n            return this.bitStream;\n        } else if (tag == 'VBRI') {\n            //VBRI头\n            this.bitStream.skipBytes(6);\n            this.totalBytes = this.bitStream.getBits(32);\n            this.totalFrames = this.bitStream.getBits(32);\n            this.tocSize = this.bitStream.getBits(16);\n            this.bitStream.skipBytes(6);\n            this.toc = [];\n            for (var i = 0; i < tocSize; i++) {\n                this.toc[i] = this.bitStream.getByte();\n            }\n            this.bitStream.setBytePos(this.endBytePos);\n            return this.bitStream;\n        } else {\n            if (this.bitStream.isEnd()) {\n                break;\n            }\n            this.bitStream.rewindBytes(3);\n        }\n    } while (tag != 'Xing' && tag != 'Info' && tag != 'VBRI' && this.bitStream.getBytePos() < MAX_TAG_OFF);\n\n    this.bitStream.setBytePos(this.endBytePos);\n\n    return false;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Header);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbXAzaW5mby9oZWFkZXIuanM/NjcwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTVAz6Z+z6aKR5bin5aS05L+h5oGv5qih5Z2XXHJcbiAqIGh0dHA6Ly93d3cuZG9jaW4uY29tL3AtMTI2MTY0OTYxNy5odG1sXHJcbiAqIGh0dHBzOi8vd3d3LmNvZGVwcm9qZWN0LmNvbS9BcnRpY2xlcy84Mjk1L01QRUctQXVkaW8tRnJhbWUtSGVhZGVyXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBCaXRTdHJlYW0gZnJvbSAnLi4vY29tbW9uL2JpdHN0cmVhbSc7XHJcblxyXG4vL+avlOeJueeOh+WvueW6lOihqChiaXQvcykgTUVQRzEuMCBMYXllcklJSVxyXG52YXIgYml0UmF0ZU1hcCA9IHtcclxuICAgICcxJzogMzIwMDAsXHJcbiAgICAnMTAnOiA0MDAwMCxcclxuICAgICcxMSc6IDQ4MDAwLFxyXG4gICAgJzEwMCc6IDU2MDAwLFxyXG4gICAgJzEwMSc6IDY0MDAwLFxyXG4gICAgJzExMCc6IDgwMDAwLFxyXG4gICAgJzExMSc6IDk2MDAwLFxyXG4gICAgJzEwMDAnOiAxMTIwMDAsXHJcbiAgICAnMTAwMSc6IDEyODAwMCxcclxuICAgICcxMDEwJzogMTYwMDAwLFxyXG4gICAgJzEwMTEnOiAxOTIwMDAsXHJcbiAgICAnMTEwMCc6IDIyNDAwMCxcclxuICAgICcxMTAxJzogMjU2MDAwLFxyXG4gICAgJzExMTAnOiAzMjAwMDBcclxufVxyXG4vL+mHh+agt+eOh+WvueW6lOihqChIeikgTUVQRzEuMCBMYXllcklJSVxyXG52YXIgc2FtcGxlUmF0ZU1hcCA9IHtcclxuICAgICcwJzogNDQxMDAsXHJcbiAgICAnMSc6IDQ4MDAwLFxyXG4gICAgJzEwJzogMzIwMDBcclxufVxyXG5cclxudmFyIEhFQURFUl9NQVNLID0gMHhmZmUwID4+IDU7IC8v5ZCM5q2l5aS0XHJcbnZhciBNUEVHMSA9IDM7XHJcbnZhciBMQVlFUjMgPSAxO1xyXG52YXIgTUFYX1RBR19PRkYgPSAxMCAqIDEwMjQ7IC8v5p+l5om+5bin5aS077yM5pyA5aSa5p+l5om+MTBLXHJcblxyXG52YXIgaGFzUGFyc2VWYnIgPSBmYWxzZTtcclxuXHJcbmZ1bmN0aW9uIEhlYWRlcihfYml0U3RyZWFtKSB7XHJcbiAgICB0aGlzLmluaXQoX2JpdFN0cmVhbSk7XHJcbn1cclxuXHJcbnZhciBfcHJvdG9fID0gSGVhZGVyLnByb3RvdHlwZTtcclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJZcclxuICogQHBhcmFtICB7b2JqZWN0fSBhcnJheUJ1ZmZlciDkuozov5vliLbmlbDnu4RcclxuICovXHJcbl9wcm90b18uaW5pdCA9IGZ1bmN0aW9uKF9iaXRTdHJlYW0pIHtcclxuICAgIHRoaXMuYml0U3RyZWFtID0gX2JpdFN0cmVhbTtcclxufVxyXG4vKipcclxuICog6Kej5p6Q5bin5aS05L+h5oGvXHJcbiAqIEByZXR1cm4gb2JqZWN0IOavlOeJuea1gVxyXG4gKi9cclxuX3Byb3RvXy5wYXJzZUhlYWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG1hc2sgPSAwO1xyXG4gICAgdmFyIGJlZ2luUG9zID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZVBvcygpO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIG1hc2sgPSB0aGlzLmJpdFN0cmVhbS5nZXRCaXRzKDExKTsgLy/ojrflj5YxMeS9jeWQjOatpeWktFxyXG4gICAgICAgIGlmIChtYXNrICE9IEhFQURFUl9NQVNLKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJpdFN0cmVhbS5pc0VuZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJpdFN0cmVhbS5yZXdpbmRCaXRzKDMpO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52ZXJJRCA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHMoMik7IC8vTVBFR+eJiOacrFxyXG4gICAgICAgIHRoaXMubGF5ZXIgPSB0aGlzLmJpdFN0cmVhbS5nZXRCaXRzKDIpOyAvL01QRUflsYLmlbBcclxuICAgICAgICB0aGlzLnByb3RlY3Rpb25CaXQgPSB0aGlzLmJpdFN0cmVhbS5nZXRCaXRzKDEpOyAvL+S/neaKpOS9jVxyXG4gICAgICAgIGlmICghdGhpcy5mcmFtZVN5bmMpIHtcclxuICAgICAgICAgICAgdGhpcy5iaXRTdHJlYW0ucmV3aW5kQnl0ZXMoMik7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVTeW5jID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cyg4KS50b1N0cmluZygxNikgKyAnLCcgKyB0aGlzLmJpdFN0cmVhbS5nZXRCaXRzKDgpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVN5bmMgPSB0aGlzLmZyYW1lU3luYy50b1VwcGVyQ2FzZSgpOyAvL+WQjOatpeWktFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJpdHJhdGVJbmRleCA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHNTdHIoNCk7XHJcbiAgICAgICAgdGhpcy5iaXRSYXRlID0gYml0UmF0ZU1hcFt0aGlzLmJpdHJhdGVJbmRleF07IC8v5q+U54m5546HXHJcbiAgICAgICAgdGhpcy5zYW1wbGVSYXRlSW5kZXggPSB0aGlzLmJpdFN0cmVhbS5nZXRCaXRzU3RyKDIpO1xyXG4gICAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGVNYXBbdGhpcy5zYW1wbGVSYXRlSW5kZXhdOyAvL+mHh+agt+i3r+e0ouW8lVxyXG4gICAgICAgIHRoaXMucGFkZGluZ0JpdCA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHMoMSk7IC8v5aGr5YWF5L2NXHJcbiAgICAgICAgdGhpcy5wcml2YXRlQml0ID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygxKTsgLy/np4HmnInkvY1cclxuICAgICAgICB0aGlzLmNoYW5uZWxNb2RlID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygyKTsgLy/lo7DpgZPmqKHlvI9cclxuICAgICAgICB0aGlzLmNoYW5uZWxNb2RlRXh0ZW5zaW9uID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygyKTsgLy/lo7DpgZPmianlsZXmqKHlvI9cclxuICAgICAgICB0aGlzLmNvcHlyaWdodCA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHMoMSk7IC8v54mI5p2DXHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbCA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHMoMSk7IC8v5aGr5YWF5L2NXHJcbiAgICAgICAgdGhpcy5lbXBoYXNpcyA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHMoMik7IC8v5by66LCDXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnZlcklEICE9IE1QRUcxIHx8IHRoaXMubGF5ZXIgIT0gTEFZRVIzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZnJhbWVTaXplID0gYml0UmF0ZU1hcFt0aGlzLmJpdHJhdGVJbmRleF0gKiAxMTUyIC8gODtcclxuICAgICAgICB0aGlzLmZyYW1lU2l6ZSAvPSBzYW1wbGVSYXRlTWFwW3RoaXMuc2FtcGxlUmF0ZUluZGV4XTtcclxuICAgICAgICB0aGlzLmZyYW1lU2l6ZSArPSB0aGlzLnBhZGRpbmdCaXQ7IC8v5bin6ZW/5bqmXHJcbiAgICAgICAgdGhpcy5zaWRlSW5mb1NpemUgPSAodGhpcy5jaGFubmVsTW9kZSA9PSAzKSA/IDE3IDogMzI7IC8v5bin6L655L+h5oGv6ZW/5bqmXHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IDExNTIgLyBzYW1wbGVSYXRlTWFwW3RoaXMuc2FtcGxlUmF0ZUluZGV4XTsgLy/mnKzluKfml7bplb9cclxuXHJcbiAgICAgICAgLy/orqHnrpfkuLvmlbDmja7plb/luqZcclxuICAgICAgICB0aGlzLm1haW5EYXRhU2l6ZSA9ICh0aGlzLmZyYW1lU2l6ZSAtIDQgLSB0aGlzLnNpZGVJbmZvU2l6ZSkgPj4gMDsgLy/kuLvmlbDmja7plb/luqZcclxuICAgICAgICBpZiAodGhpcy5wcm90ZWN0aW9uQml0ID09IDApXHJcbiAgICAgICAgICAgIHRoaXMubWFpbkRhdGFTaXplIC09IDI7IC8vQ1JDXHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgfSB3aGlsZSAodGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZVBvcygpIC0gYmVnaW5Qb3MgPCBNQVhfVEFHX09GRik7XHJcblxyXG4gICAgaWYgKHRoaXMuYml0U3RyZWFtLmdldEJ5dGVQb3MoKSAtIGJlZ2luUG9zID49IE1BWF9UQUdfT0ZGIHx8IHRoaXMuYml0U3RyZWFtLmlzRW5kKCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbmRCeXRlUG9zID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZVBvcygpO1xyXG4gICAgaWYgKCFoYXNQYXJzZVZicikge1xyXG4gICAgICAgIGhhc1BhcnNlVmJyID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBhcnNlVmJyKCk7XHJcbiAgICAgICAgaWYgKHRoaXMudG9jKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxEdXJhdGlvbiA9IHRoaXMudG90YWxGcmFtZXMgKiAxMTUyIC8gc2FtcGxlUmF0ZU1hcFt0aGlzLnNhbXBsZVJhdGVJbmRleF07IC8v5oC75pe26ZW/XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuYml0U3RyZWFtO1xyXG59XHJcbi8qKlxyXG4gKiDop6PmnpB2YnLkv6Hmga9cclxuICovXHJcbl9wcm90b18ucGFyc2VWYnIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBmbGFncyA9IDA7XHJcbiAgICB2YXIgdGFnID0gJyc7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICAgIHRhZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpLCB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCksIHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSwgdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpKTtcclxuICAgICAgICBpZiAodGFnID09ICdYaW5nJyB8fCB0YWcgPT0gJ0luZm8nKSB7IC8vWGluZ++8jEluZm/lpLRcclxuICAgICAgICAgICAgdGhpcy50b2NTaXplID0gMTAwOyAvL3Zicue0ouW8leihqOmVv+W6plxyXG4gICAgICAgICAgICBmbGFncyA9IHRoaXMuYml0U3RyZWFtLmdldEJpdHMoMzIpO1xyXG4gICAgICAgICAgICBpZiAoZmxhZ3MgJiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsRnJhbWVzID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygzMik7IC8v5oC75bin5pWwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZsYWdzICYgMikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbEJ5dGVzID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygzMik7IC8v5oC76ZW/5bqmXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZsYWdzICYgNCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2MgPSBbXTsgLy92YnLntKLlvJXooahcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50b2NTaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvY1tpXSA9IHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJpdFN0cmVhbS5zZXRCeXRlUG9zKHRoaXMuZW5kQnl0ZVBvcyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJpdFN0cmVhbTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSAnVkJSSScpIHsgLy9WQlJJ5aS0XHJcbiAgICAgICAgICAgIHRoaXMuYml0U3RyZWFtLnNraXBCeXRlcyg2KTtcclxuICAgICAgICAgICAgdGhpcy50b3RhbEJ5dGVzID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygzMik7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxGcmFtZXMgPSB0aGlzLmJpdFN0cmVhbS5nZXRCaXRzKDMyKTtcclxuICAgICAgICAgICAgdGhpcy50b2NTaXplID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qml0cygxNik7XHJcbiAgICAgICAgICAgIHRoaXMuYml0U3RyZWFtLnNraXBCeXRlcyg2KTtcclxuICAgICAgICAgICAgdGhpcy50b2MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2NTaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9jW2ldID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYml0U3RyZWFtLnNldEJ5dGVQb3ModGhpcy5lbmRCeXRlUG9zKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYml0U3RyZWFtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJpdFN0cmVhbS5pc0VuZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJpdFN0cmVhbS5yZXdpbmRCeXRlcygzKTtcclxuICAgICAgICB9XHJcbiAgICB9IHdoaWxlICh0YWcgIT0gJ1hpbmcnICYmIHRhZyAhPSAnSW5mbycgJiYgdGFnICE9ICdWQlJJJyAmJiB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlUG9zKCkgPCBNQVhfVEFHX09GRilcclxuXHJcbiAgICB0aGlzLmJpdFN0cmVhbS5zZXRCeXRlUG9zKHRoaXMuZW5kQnl0ZVBvcyk7XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9tcDNpbmZvL2hlYWRlci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFoQkE7QUFrQkE7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_bitstream__ = __webpack_require__(0);\n/**\r\n * MP3音频ID3标签信息模块\r\n * http://wiki.hydrogenaud.io/index.php?this.title=Ape_Tags_Flags\r\n */\n\n\n\nvar MAX_TAG_OFF = 10 * 1024; //查找标签头时，最多查找10K\nvar TEXT_ENCODING = []; //字符解码器\nTEXT_ENCODING[0] = new TextDecoder('GBK');\nTEXT_ENCODING[1] = new TextDecoder('UTF-16');\nTEXT_ENCODING[2] = new TextDecoder('UTF-16BE');\nTEXT_ENCODING[3] = new TextDecoder('UTF-8');\n\nvar gbkDecoder = TEXT_ENCODING[0];\nvar utf8Decoder = TEXT_ENCODING[3];\n\nfunction Id3Tag(arrayBuffer) {\n    this.bitStream = new __WEBPACK_IMPORTED_MODULE_0__common_bitstream__[\"a\" /* default */](arrayBuffer);\n}\n\nvar _proto_ = Id3Tag.prototype;\n\n/**\r\n * 判断是否为ID3V1标签\r\n */\n_proto_.checkId3V1 = function () {\n    if (this.bitStream.getSize() < 128) {\n        return false;\n    }\n    var tag = '';\n    do {\n        tag = String.fromCharCode(this.bitStream.getByte(), this.bitStream.getByte(), this.bitStream.getByte());\n        if (this.bitStream.isEnd()) {\n            break;\n        }\n        if (tag != 'TAG') {\n            this.bitStream.rewindBytes(2);\n        }\n    } while (tag != 'TAG' && this.bitStream.getBytePos() < MAX_TAG_OFF);\n\n    if (tag != 'TAG') {\n        return false;\n    }\n\n    this.tagSize = 128; //标签长度\n    return true;\n};\n/**\r\n * 判断是否为ID3V2标签\r\n */\n_proto_.checkId3V2 = function () {\n    var tag = '';\n    do {\n        tag = String.fromCharCode(this.bitStream.getByte(), this.bitStream.getByte(), this.bitStream.getByte());\n        if (this.bitStream.isEnd()) {\n            break;\n        }\n        if (tag != 'ID3') {\n            this.bitStream.rewindBytes(2);\n        }\n    } while (tag != 'ID3' && this.bitStream.getBytePos() < MAX_TAG_OFF);\n\n    if (tag != 'ID3') {\n        return false;\n    }\n    return true;\n};\n/**\r\n * 判断是否为APE标签\r\n */\n_proto_.checkApe = function () {\n    var bytes = [];\n    var tag = '';\n    do {\n        for (var i = 0; i < 8; i++) {\n            bytes[i] = this.bitStream.getByte();\n        }\n        tag = String.fromCharCode.apply(null, bytes);\n        if (this.bitStream.isEnd()) {\n            break;\n        }\n        if (tag != 'APETAGEX') {\n            this.bitStream.rewindBytes(7);\n        }\n    } while (tag != 'APETAGEX' && this.bitStream.getBytePos() < MAX_TAG_OFF);\n\n    if (tag != 'APETAGEX') {\n        return false;\n    }\n    return true;\n};\n/**\r\n * 解析ID3V1标签\r\n * @return number this.tagSize\r\n */\n_proto_.parseId3V1 = function () {\n    this.bitStream.reset();\n    if (this.checkId3V1() == false) return 0;\n    var i = 0;\n    var bytes = new Uint8Array(30);\n    if (this.bitStream.getSize() < 128) {\n        return this.tagSize;\n    }\n    for (i = 0; i < 30; i++) {\n        bytes[i] = this.bitStream.getByte();\n    }\n    this.title = gbkDecoder.decode(bytes); //标题\n\n    for (i = 0; i < 30; i++) {\n        bytes[i] = this.bitStream.getByte();\n    }\n    this.artist = gbkDecoder.decode(bytes); //艺术家\n\n    for (i = 0; i < 30; i++) {\n        bytes[i] = this.bitStream.getByte();\n    }\n    this.album = gbkDecoder.decode(bytes); //专辑\n\n    for (i = 0; i < 4; i++) {\n        bytes[i] = this.bitStream.getByte();\n    }\n    this.year = gbkDecoder.decode(bytes); //年份\n\n    for (i = 0; i < 30; i++) {\n        bytes[i] = this.bitStream.getByte();\n    }\n    this.comment = gbkDecoder.decode(bytes); //注释\n\n    this.genre = this.bitStream.getByte(); //风格\n\n    return this.tagSize;\n};\n/**\r\n * 解析ID3V2标签\r\n * @return number this.tagSize\r\n */\n_proto_.parseId3V2 = function () {\n    var self = this;\n    this.bitStream.reset();\n    if (this.checkId3V2() == false) return 0;\n    this.bitStream.skipBytes(3);\n    this.tagSize = ((this.bitStream.getByte() & 0x7F) << 21 | (this.bitStream.getByte() & 0x7F) << 14 | (this.bitStream.getByte() & 0x7F) << 7 | this.bitStream.getByte() & 0x7F) + 10;\n\n    if (this.bitStream.getSize() < this.tagSize) {\n        return this.tagSize;\n    }\n\n    while (this.bitStream.getBytePos() < this.tagSize && !this.bitStream.isEnd()) {\n        _getItem();\n    }\n\n    function _getItem() {\n        var key = String.fromCharCode(self.bitStream.getByte(), self.bitStream.getByte(), self.bitStream.getByte(), self.bitStream.getByte());\n        var len = self.bitStream.getBits(32);\n        var cont = '';\n        var bytes = new Uint8Array(len);\n        var strCode = 0; //字符编码索引\n\n        if (!(key.charAt(0) <= 'z' && key.charAt(0) >= 'a') && !(key.charAt(0) <= 'Z' && key.charAt(0) >= 'A')) {\n            //信息已读取完毕，后面为垃圾数据\n            self.bitStream.setBytePos(self.tagSize);\n            self.bitStream.setBitPos(0);\n            return;\n        }\n\n        self.bitStream.skipBytes(2);\n        strCode = self.bitStream.getByte();\n        if (strCode > 3) {\n            strCode = 3;\n        }\n        for (var i = 0; i < len - 1; i++) {\n            bytes[i] = self.bitStream.getByte();\n        }\n\n        cont = TEXT_ENCODING[strCode].decode(bytes);\n\n        // if(strCode>0){\n        //  cont = cont.replace(/[^\\u4e00-\\u9fa5]/g, \"\");\n        // }\n\n        switch (key) {\n            case 'TIT2':\n                self.title = cont;\n                break;\n            case 'TPE1':\n                self.artist = cont;\n                break;\n            case 'TALB':\n                self.album = cont;\n                break;\n            case 'TYER':\n                self.year = cont;\n                break;\n            case 'COMM':\n                self.comment = cont;\n                break;\n            case 'TCON':\n                self.genre = cont;\n                break;\n        }\n    }\n    return this.tagSize;\n};\n/**\r\n * 解析APE标签\r\n */\n_proto_.parseApe = function () {\n    var self = this;\n    var itemSize = 0;\n    var isApeHeader = 0;\n    var isHeader = 0;\n    this.bitStream.reset();\n    if (this.checkApe() == false) return 0;\n    this.bitStream.skipBytes(4);\n    //低位在前\n    this.tagSize = this.bitStream.getByte() | this.bitStream.getByte() << 8 | this.bitStream.getByte() << 16 | this.bitStream.getByte() << 24;\n    itemSize = this.bitStream.getByte() | this.bitStream.getByte() << 8 | this.bitStream.getByte() << 16 | this.bitStream.getByte() << 24;\n    this.bitStream.skipBits(2);\n    if (this.bitStream.getBits1()) {\n        //是ApeHeader\n        this.tagSize += 32;\n        isHeader = 1;\n    }\n    this.bitStream.skipBits(32 - 3);\n    this.bitStream.skipBytes(8);\n    if (this.bitStream.getBytePos() < this.tagSize || this.bitStream.getSize() < this.tagSize) {\n        return this.tagSize;\n    }\n    if (!isHeader) {\n        this.bitStream.rewindBytes(this.tagSize);\n    }\n    for (var i = 0; i < itemSize && this.bitStream.getBytePos() < this.tagSize && !this.bitStream.isEnd(); i++) {\n        _getItem();\n    }\n\n    function _getItem() {\n        var key = '';\n        var cont = '';\n        var byte = 0;\n        //低位在前\n        var len = self.bitStream.getByte() | self.bitStream.getByte() << 8 | self.bitStream.getByte() << 16 | self.bitStream.getByte() << 24;\n        var bytes = new Uint8Array(len);\n        self.bitStream.skipBytes(4);\n        byte = self.bitStream.getByte();\n\n        while (byte != 0 && self.bitStream.getBytePos() < self.tagSize) {\n            key += String.fromCharCode(byte);\n            byte = self.bitStream.getByte();\n        }\n\n        for (var i = 0; i < len; i++) {\n            bytes[i] = self.bitStream.getByte();\n        }\n        cont = utf8Decoder.decode(bytes);\n        switch (key) {\n            case 'Title':\n                self.title = cont;\n                break;\n            case 'Artist':\n                self.artist = cont;\n                break;\n            case 'Album':\n                self.album = cont;\n                break;\n            case 'Year':\n                self.year = cont;\n                break;\n            case 'Comment':\n                self.comment = cont;\n                break;\n            case 'Genre':\n                self.genre = cont;\n                break;\n        }\n    }\n    return this.tagSize;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Id3Tag);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbXAzaW5mby9pZDN0YWcuanM/ZmU2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTVAz6Z+z6aKRSUQz5qCH562+5L+h5oGv5qih5Z2XXHJcbiAqIGh0dHA6Ly93aWtpLmh5ZHJvZ2VuYXVkLmlvL2luZGV4LnBocD90aGlzLnRpdGxlPUFwZV9UYWdzX0ZsYWdzXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJpdFN0cmVhbSBmcm9tICcuLi9jb21tb24vYml0c3RyZWFtJztcclxuXHJcbnZhciBNQVhfVEFHX09GRiA9IDEwICogMTAyNDsgLy/mn6Xmib7moIfnrb7lpLTml7bvvIzmnIDlpJrmn6Xmib4xMEtcclxudmFyIFRFWFRfRU5DT0RJTkcgPSBbXTsgLy/lrZfnrKbop6PnoIHlmahcclxuVEVYVF9FTkNPRElOR1swXSA9IG5ldyBUZXh0RGVjb2RlcignR0JLJyk7XHJcblRFWFRfRU5DT0RJTkdbMV0gPSBuZXcgVGV4dERlY29kZXIoJ1VURi0xNicpO1xyXG5URVhUX0VOQ09ESU5HWzJdID0gbmV3IFRleHREZWNvZGVyKCdVVEYtMTZCRScpO1xyXG5URVhUX0VOQ09ESU5HWzNdID0gbmV3IFRleHREZWNvZGVyKCdVVEYtOCcpO1xyXG5cclxudmFyIGdia0RlY29kZXIgPSBURVhUX0VOQ09ESU5HWzBdO1xyXG52YXIgdXRmOERlY29kZXIgPSBURVhUX0VOQ09ESU5HWzNdO1xyXG5cclxuZnVuY3Rpb24gSWQzVGFnKGFycmF5QnVmZmVyKSB7XHJcbiAgICB0aGlzLmJpdFN0cmVhbSA9IG5ldyBCaXRTdHJlYW0oYXJyYXlCdWZmZXIpO1xyXG59XHJcblxyXG52YXIgX3Byb3RvXyA9IElkM1RhZy5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICog5Yik5pat5piv5ZCm5Li6SUQzVjHmoIfnrb5cclxuICovXHJcbl9wcm90b18uY2hlY2tJZDNWMSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuYml0U3RyZWFtLmdldFNpemUoKSA8IDEyOCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciB0YWcgPSAnJztcclxuICAgIGRvIHtcclxuICAgICAgICB0YWcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSwgdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpLCB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLmJpdFN0cmVhbS5pc0VuZCgpKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFnICE9ICdUQUcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYml0U3RyZWFtLnJld2luZEJ5dGVzKDIpO1xyXG4gICAgICAgIH1cclxuICAgIH0gd2hpbGUgKHRhZyAhPSAnVEFHJyAmJiB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlUG9zKCkgPCBNQVhfVEFHX09GRik7XHJcblxyXG4gICAgaWYgKHRhZyAhPSAnVEFHJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRhZ1NpemUgPSAxMjg7IC8v5qCH562+6ZW/5bqmXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICog5Yik5pat5piv5ZCm5Li6SUQzVjLmoIfnrb5cclxuICovXHJcbl9wcm90b18uY2hlY2tJZDNWMiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRhZyA9ICcnO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIHRhZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpLCB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCksIHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuYml0U3RyZWFtLmlzRW5kKCkpIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0YWcgIT0gJ0lEMycpIHtcclxuICAgICAgICAgICAgdGhpcy5iaXRTdHJlYW0ucmV3aW5kQnl0ZXMoMik7XHJcbiAgICAgICAgfVxyXG4gICAgfSB3aGlsZSAodGFnICE9ICdJRDMnICYmIHRoaXMuYml0U3RyZWFtLmdldEJ5dGVQb3MoKSA8IE1BWF9UQUdfT0ZGKTtcclxuXHJcbiAgICBpZiAodGFnICE9ICdJRDMnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuLyoqXHJcbiAqIOWIpOaWreaYr+WQpuS4ukFQReagh+etvlxyXG4gKi9cclxuX3Byb3RvXy5jaGVja0FwZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICB2YXIgdGFnID0gJyc7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcclxuICAgICAgICAgICAgYnl0ZXNbaV0gPSB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYnl0ZXMpO1xyXG4gICAgICAgIGlmICh0aGlzLmJpdFN0cmVhbS5pc0VuZCgpKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGFnICE9ICdBUEVUQUdFWCcpIHtcclxuICAgICAgICAgICAgdGhpcy5iaXRTdHJlYW0ucmV3aW5kQnl0ZXMoNyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSB3aGlsZSAodGFnICE9ICdBUEVUQUdFWCcgJiYgdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZVBvcygpIDwgTUFYX1RBR19PRkYpO1xyXG5cclxuICAgIGlmICh0YWcgIT0gJ0FQRVRBR0VYJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbi8qKlxyXG4gKiDop6PmnpBJRDNWMeagh+etvlxyXG4gKiBAcmV0dXJuIG51bWJlciB0aGlzLnRhZ1NpemVcclxuICovXHJcbl9wcm90b18ucGFyc2VJZDNWMSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5iaXRTdHJlYW0ucmVzZXQoKTtcclxuICAgIGlmICh0aGlzLmNoZWNrSWQzVjEoKSA9PSBmYWxzZSlcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIHZhciBpID0gMDtcclxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDMwKTtcclxuICAgIGlmICh0aGlzLmJpdFN0cmVhbS5nZXRTaXplKCkgPCAxMjgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YWdTaXplO1xyXG4gICAgfVxyXG4gICAgZm9yIChpID0gMDsgaSA8IDMwOyBpKyspIHtcclxuICAgICAgICBieXRlc1tpXSA9IHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKTtcclxuICAgIH1cclxuICAgIHRoaXMudGl0bGUgPSBnYmtEZWNvZGVyLmRlY29kZShieXRlcyk7IC8v5qCH6aKYXHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IDMwOyBpKyspIHtcclxuICAgICAgICBieXRlc1tpXSA9IHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKTtcclxuICAgIH1cclxuICAgIHRoaXMuYXJ0aXN0ID0gZ2JrRGVjb2Rlci5kZWNvZGUoYnl0ZXMpOyAvL+iJuuacr+WutlxyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCAzMDsgaSsrKSB7XHJcbiAgICAgICAgYnl0ZXNbaV0gPSB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmFsYnVtID0gZ2JrRGVjb2Rlci5kZWNvZGUoYnl0ZXMpOyAvL+S4k+i+kVxyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICBieXRlc1tpXSA9IHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKTtcclxuICAgIH1cclxuICAgIHRoaXMueWVhciA9IGdia0RlY29kZXIuZGVjb2RlKGJ5dGVzKTsgLy/lubTku71cclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgMzA7IGkrKykge1xyXG4gICAgICAgIGJ5dGVzW2ldID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb21tZW50ID0gZ2JrRGVjb2Rlci5kZWNvZGUoYnl0ZXMpOyAvL+azqOmHilxyXG5cclxuICAgIHRoaXMuZ2VucmUgPSB0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCk7IC8v6aOO5qC8XHJcblxyXG4gICAgcmV0dXJuIHRoaXMudGFnU2l6ZTtcclxufVxyXG4vKipcclxuICog6Kej5p6QSUQzVjLmoIfnrb5cclxuICogQHJldHVybiBudW1iZXIgdGhpcy50YWdTaXplXHJcbiAqL1xyXG5fcHJvdG9fLnBhcnNlSWQzVjIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuYml0U3RyZWFtLnJlc2V0KCk7XHJcbiAgICBpZiAodGhpcy5jaGVja0lkM1YyKCkgPT0gZmFsc2UpXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB0aGlzLmJpdFN0cmVhbS5za2lwQnl0ZXMoMyk7XHJcbiAgICB0aGlzLnRhZ1NpemUgPSAoKCh0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCkgJiAweDdGKSA8PCAyMSkgfFxyXG4gICAgICAgICgodGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpICYgMHg3RikgPDwgMTQpIHxcclxuICAgICAgICAoKHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSAmIDB4N0YpIDw8IDcpIHxcclxuICAgICAgICAodGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpICYgMHg3RikpICsgMTA7XHJcblxyXG4gICAgaWYgKHRoaXMuYml0U3RyZWFtLmdldFNpemUoKSA8IHRoaXMudGFnU2l6ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhZ1NpemU7XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKHRoaXMuYml0U3RyZWFtLmdldEJ5dGVQb3MoKSA8IHRoaXMudGFnU2l6ZSAmJiAhdGhpcy5iaXRTdHJlYW0uaXNFbmQoKSkge1xyXG4gICAgICAgIF9nZXRJdGVtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2dldEl0ZW0oKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoc2VsZi5iaXRTdHJlYW0uZ2V0Qnl0ZSgpLCBzZWxmLmJpdFN0cmVhbS5nZXRCeXRlKCksIHNlbGYuYml0U3RyZWFtLmdldEJ5dGUoKSwgc2VsZi5iaXRTdHJlYW0uZ2V0Qnl0ZSgpKTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5iaXRTdHJlYW0uZ2V0Qml0cygzMik7XHJcbiAgICAgICAgdmFyIGNvbnQgPSAnJztcclxuICAgICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xyXG4gICAgICAgIHZhciBzdHJDb2RlID0gMDsgLy/lrZfnrKbnvJbnoIHntKLlvJVcclxuXHJcbiAgICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA8PSAneicgJiYga2V5LmNoYXJBdCgwKSA+PSAnYScpICYmICEoa2V5LmNoYXJBdCgwKSA8PSAnWicgJiYga2V5LmNoYXJBdCgwKSA+PSAnQScpKSB7IC8v5L+h5oGv5bey6K+75Y+W5a6M5q+V77yM5ZCO6Z2i5Li65Z6D5Zy+5pWw5o2uXHJcbiAgICAgICAgICAgIHNlbGYuYml0U3RyZWFtLnNldEJ5dGVQb3Moc2VsZi50YWdTaXplKTtcclxuICAgICAgICAgICAgc2VsZi5iaXRTdHJlYW0uc2V0Qml0UG9zKDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLmJpdFN0cmVhbS5za2lwQnl0ZXMoMik7XHJcbiAgICAgICAgc3RyQ29kZSA9IHNlbGYuYml0U3RyZWFtLmdldEJ5dGUoKTtcclxuICAgICAgICBpZiAoc3RyQ29kZSA+IDMpIHtcclxuICAgICAgICAgICAgc3RyQ29kZSA9IDM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJ5dGVzW2ldID0gc2VsZi5iaXRTdHJlYW0uZ2V0Qnl0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udCA9IFRFWFRfRU5DT0RJTkdbc3RyQ29kZV0uZGVjb2RlKGJ5dGVzKTtcclxuXHJcbiAgICAgICAgLy8gaWYoc3RyQ29kZT4wKXtcclxuICAgICAgICAvLyAgY29udCA9IGNvbnQucmVwbGFjZSgvW15cXHU0ZTAwLVxcdTlmYTVdL2csIFwiXCIpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnVElUMic6XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRpdGxlID0gY29udDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdUUEUxJzpcclxuICAgICAgICAgICAgICAgIHNlbGYuYXJ0aXN0ID0gY29udDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdUQUxCJzpcclxuICAgICAgICAgICAgICAgIHNlbGYuYWxidW0gPSBjb250O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1RZRVInOlxyXG4gICAgICAgICAgICAgICAgc2VsZi55ZWFyID0gY29udDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdDT01NJzpcclxuICAgICAgICAgICAgICAgIHNlbGYuY29tbWVudCA9IGNvbnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnVENPTic6XHJcbiAgICAgICAgICAgICAgICBzZWxmLmdlbnJlID0gY29udDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnRhZ1NpemU7XHJcbn1cclxuLyoqXHJcbiAqIOino+aekEFQReagh+etvlxyXG4gKi9cclxuX3Byb3RvXy5wYXJzZUFwZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGl0ZW1TaXplID0gMDtcclxuICAgIHZhciBpc0FwZUhlYWRlciA9IDA7XHJcbiAgICB2YXIgaXNIZWFkZXIgPSAwO1xyXG4gICAgdGhpcy5iaXRTdHJlYW0ucmVzZXQoKTtcclxuICAgIGlmICh0aGlzLmNoZWNrQXBlKCkgPT0gZmFsc2UpXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB0aGlzLmJpdFN0cmVhbS5za2lwQnl0ZXMoNCk7XHJcbiAgICAvL+S9juS9jeWcqOWJjVxyXG4gICAgdGhpcy50YWdTaXplID0gdGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpIHwgKHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSA8PCA4KSB8ICh0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCkgPDwgMTYpIHwgKHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSA8PCAyNCk7XHJcbiAgICBpdGVtU2l6ZSA9IHRoaXMuYml0U3RyZWFtLmdldEJ5dGUoKSB8ICh0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCkgPDwgOCkgfCAodGhpcy5iaXRTdHJlYW0uZ2V0Qnl0ZSgpIDw8IDE2KSB8ICh0aGlzLmJpdFN0cmVhbS5nZXRCeXRlKCkgPDwgMjQpO1xyXG4gICAgdGhpcy5iaXRTdHJlYW0uc2tpcEJpdHMoMik7XHJcbiAgICBpZiAodGhpcy5iaXRTdHJlYW0uZ2V0Qml0czEoKSkgeyAvL+aYr0FwZUhlYWRlclxyXG4gICAgICAgIHRoaXMudGFnU2l6ZSArPSAzMjtcclxuICAgICAgICBpc0hlYWRlciA9IDE7XHJcbiAgICB9XHJcbiAgICB0aGlzLmJpdFN0cmVhbS5za2lwQml0cygzMiAtIDMpO1xyXG4gICAgdGhpcy5iaXRTdHJlYW0uc2tpcEJ5dGVzKDgpO1xyXG4gICAgaWYgKHRoaXMuYml0U3RyZWFtLmdldEJ5dGVQb3MoKSA8IHRoaXMudGFnU2l6ZSB8fCB0aGlzLmJpdFN0cmVhbS5nZXRTaXplKCkgPCB0aGlzLnRhZ1NpemUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YWdTaXplO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc0hlYWRlcikge1xyXG4gICAgICAgIHRoaXMuYml0U3RyZWFtLnJld2luZEJ5dGVzKHRoaXMudGFnU2l6ZSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1TaXplICYmIHRoaXMuYml0U3RyZWFtLmdldEJ5dGVQb3MoKSA8IHRoaXMudGFnU2l6ZSAmJiAhdGhpcy5iaXRTdHJlYW0uaXNFbmQoKTsgaSsrKSB7XHJcbiAgICAgICAgX2dldEl0ZW0oKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfZ2V0SXRlbSgpIHtcclxuICAgICAgICB2YXIga2V5ID0gJyc7XHJcbiAgICAgICAgdmFyIGNvbnQgPSAnJztcclxuICAgICAgICB2YXIgYnl0ZSA9IDA7XHJcbiAgICAgICAgLy/kvY7kvY3lnKjliY1cclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5iaXRTdHJlYW0uZ2V0Qnl0ZSgpIHwgKHNlbGYuYml0U3RyZWFtLmdldEJ5dGUoKSA8PCA4KSB8IChzZWxmLmJpdFN0cmVhbS5nZXRCeXRlKCkgPDwgMTYpIHwgKHNlbGYuYml0U3RyZWFtLmdldEJ5dGUoKSA8PCAyNCk7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcclxuICAgICAgICBzZWxmLmJpdFN0cmVhbS5za2lwQnl0ZXMoNCk7XHJcbiAgICAgICAgYnl0ZSA9IHNlbGYuYml0U3RyZWFtLmdldEJ5dGUoKTtcclxuXHJcbiAgICAgICAgd2hpbGUgKGJ5dGUgIT0gMCAmJiBzZWxmLmJpdFN0cmVhbS5nZXRCeXRlUG9zKCkgPCBzZWxmLnRhZ1NpemUpIHtcclxuICAgICAgICAgICAga2V5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XHJcbiAgICAgICAgICAgIGJ5dGUgPSBzZWxmLmJpdFN0cmVhbS5nZXRCeXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJ5dGVzW2ldID0gc2VsZi5iaXRTdHJlYW0uZ2V0Qnl0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ID0gdXRmOERlY29kZXIuZGVjb2RlKGJ5dGVzKTtcclxuICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdUaXRsZSc6XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRpdGxlID0gY29udDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdBcnRpc3QnOlxyXG4gICAgICAgICAgICAgICAgc2VsZi5hcnRpc3QgPSBjb250O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0FsYnVtJzpcclxuICAgICAgICAgICAgICAgIHNlbGYuYWxidW0gPSBjb250O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1llYXInOlxyXG4gICAgICAgICAgICAgICAgc2VsZi55ZWFyID0gY29udDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdDb21tZW50JzpcclxuICAgICAgICAgICAgICAgIHNlbGYuY29tbWVudCA9IGNvbnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnR2VucmUnOlxyXG4gICAgICAgICAgICAgICAgc2VsZi5nZW5yZSA9IGNvbnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy50YWdTaXplO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJZDNUYWc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9tcDNpbmZvL2lkM3RhZy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mp3info_mp3info__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mediasource_player__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_util__ = __webpack_require__(1);\n\n\n\n\nvar totalTime = 0;\nvar myRange = document.getElementById(\"myRange\");\nvar audio = document.querySelector('audio');\nwindow.mp3 = new __WEBPACK_IMPORTED_MODULE_1__mediasource_player__[\"a\" /* default */]('res/test.mp3', {\n    AudioInfo: __WEBPACK_IMPORTED_MODULE_0__mp3info_mp3info__[\"a\" /* default */],\n    audio: audio,\n    loadedmetadataCb: function (duration) {\n        var data = '';\n        totalTime = duration;\n        if (validateDuration(totalTime)) {\n            data = __WEBPACK_IMPORTED_MODULE_2__common_util__[\"a\" /* default */].formatCountDown(totalTime);\n            data = data.hours + ':' + data.minutes + ':' + data.seconds;\n            document.getElementById(\"right_time\").innerHTML = data;\n        }\n    },\n    updateTimeCb: function (seconds) {\n        if (seconds > totalTime || !validateDuration(totalTime)) {\n            loadedmetadataCb(audio.duration);\n            return;\n        }\n        var date = __WEBPACK_IMPORTED_MODULE_2__common_util__[\"a\" /* default */].formatCountDown(seconds);\n        date = date.hours + ':' + date.minutes + ':' + date.seconds;\n        document.getElementById(\"left_time\").innerHTML = date;\n        myRange.value = Math.round(seconds / totalTime * 100) || 0;\n    },\n    playCb: function () {\n        console.log('开始播放');\n    },\n    pauseCb: function () {\n        console.log('播放暂停');\n    },\n    waitingCb: function () {\n        console.log('加载中');\n    },\n    playingCb: function () {\n        console.log('缓冲结束');\n    },\n    endCb: function () {\n        myRange.value = 0;\n        document.getElementById(\"left_time\").innerHTML = '00:00:00';\n        console.log('播放结束');\n    },\n    //该回调用来解密加密过的字节\n    decrypt: function (arrayBuffer) {\n        // var arr = new Uint8Array(arrayBuffer);\n        // for (var i = 0; i < arr.length; i++) {\n        //     arr[i] = arr[i] ^ 255;\n        // }\n    }\n});\n\nfunction validateDuration(duration) {\n    if (duration <= 0 || duration == Infinity || isNaN(duration)) {\n        return false;\n    }\n    return true;\n}\n\ndocument.getElementById(\"myRange\").onchange = function () {\n    var percent = myRange.value;\n    mp3.seek(parseInt(percent));\n};\n\ndocument.querySelector('.play').addEventListener('click', function () {\n    mp3.play();\n});\n\ndocument.querySelector('.pause').addEventListener('click', function () {\n    mp3.pause();\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2V4YW1wbGUvbWVkaWFzb3VyY2UvZGVtby5qcz82MGUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNUDNJbmZvIGZyb20gJy4uLy4uL21wM2luZm8vbXAzaW5mbyc7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vLi4vbWVkaWFzb3VyY2UvcGxheWVyJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vLi4vY29tbW9uL3V0aWwnO1xyXG5cclxudmFyIHRvdGFsVGltZSA9IDA7XHJcbnZhciBteVJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteVJhbmdlXCIpO1xyXG52YXIgYXVkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhdWRpbycpO1xyXG53aW5kb3cubXAzID0gbmV3IFBsYXllcigncmVzL3Rlc3QubXAzJywge1xyXG4gICAgQXVkaW9JbmZvOiBNUDNJbmZvLFxyXG4gICAgYXVkaW86IGF1ZGlvLFxyXG4gICAgbG9hZGVkbWV0YWRhdGFDYjogZnVuY3Rpb24oZHVyYXRpb24pIHtcclxuICAgICAgICB2YXIgZGF0YSA9ICcnO1xyXG4gICAgICAgIHRvdGFsVGltZSA9IGR1cmF0aW9uO1xyXG4gICAgICAgIGlmICh2YWxpZGF0ZUR1cmF0aW9uKHRvdGFsVGltZSkpIHtcclxuICAgICAgICAgICAgZGF0YSA9IFV0aWwuZm9ybWF0Q291bnREb3duKHRvdGFsVGltZSk7XHJcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLmhvdXJzICsgJzonICsgZGF0YS5taW51dGVzICsgJzonICsgZGF0YS5zZWNvbmRzO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpZ2h0X3RpbWVcIikuaW5uZXJIVE1MID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlVGltZUNiOiBmdW5jdGlvbihzZWNvbmRzKSB7XHJcbiAgICAgICAgaWYgKHNlY29uZHMgPiB0b3RhbFRpbWUgfHwgIXZhbGlkYXRlRHVyYXRpb24odG90YWxUaW1lKSkge1xyXG4gICAgICAgICAgICBsb2FkZWRtZXRhZGF0YUNiKGF1ZGlvLmR1cmF0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGF0ZSA9IFV0aWwuZm9ybWF0Q291bnREb3duKHNlY29uZHMpO1xyXG4gICAgICAgIGRhdGUgPSBkYXRlLmhvdXJzICsgJzonICsgZGF0ZS5taW51dGVzICsgJzonICsgZGF0ZS5zZWNvbmRzO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVmdF90aW1lXCIpLmlubmVySFRNTCA9IGRhdGU7XHJcbiAgICAgICAgbXlSYW5nZS52YWx1ZSA9IE1hdGgucm91bmQoKHNlY29uZHMgLyB0b3RhbFRpbWUpICogMTAwKSB8fCAwO1xyXG4gICAgfSxcclxuICAgIHBsYXlDYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+W8gOWni+aSreaUvicpO1xyXG4gICAgfSxcclxuICAgIHBhdXNlQ2I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfmkq3mlL7mmoLlgZwnKTtcclxuICAgIH0sXHJcbiAgICB3YWl0aW5nQ2I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3kuK0nKTtcclxuICAgIH0sXHJcbiAgICBwbGF5aW5nQ2I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfnvJPlhrLnu5PmnZ8nKTtcclxuICAgIH0sXHJcbiAgICBlbmRDYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbXlSYW5nZS52YWx1ZSA9IDA7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWZ0X3RpbWVcIikuaW5uZXJIVE1MID0gJzAwOjAwOjAwJ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfmkq3mlL7nu5PmnZ8nKTtcclxuICAgIH0sXHJcbiAgICAvL+ivpeWbnuiwg+eUqOadpeino+WvhuWKoOWvhui/h+eahOWtl+iKglxyXG4gICAgZGVjcnlwdDogZnVuY3Rpb24oYXJyYXlCdWZmZXIpIHtcclxuICAgICAgICAvLyB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgIGFycltpXSA9IGFycltpXSBeIDI1NTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVEdXJhdGlvbihkdXJhdGlvbikge1xyXG4gICAgaWYgKGR1cmF0aW9uIDw9IDAgfHwgZHVyYXRpb24gPT0gSW5maW5pdHkgfHwgaXNOYU4oZHVyYXRpb24pKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlSYW5nZVwiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHBlcmNlbnQgPSBteVJhbmdlLnZhbHVlO1xyXG4gICAgbXAzLnNlZWsocGFyc2VJbnQocGVyY2VudCkpO1xyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBtcDMucGxheSgpO1xyXG59KVxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhdXNlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIG1wMy5wYXVzZSgpO1xyXG59KVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZXhhbXBsZS9tZWRpYXNvdXJjZS9kZW1vLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3Q0E7QUFDQTtBQStDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__audio_index__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_range__ = __webpack_require__(2);\n\n\n\nvar player = {\n    /**\r\n     * 初始化播放器\r\n     * @param  {Object} opt 参数对象\r\n     * @param  {String} opt.url 音频文件地址\r\n     * @param  {Object} opt.audioInfo 音频信息对象\r\n     * @param  {Audio} opt.audio audio文档对象\r\n     */\n    _init: function (opt) {\n        this.url = opt.url; //mp3文件地址\n        this.audioInfo = opt.audioInfo; //mp3文件信息\n        this.audio = opt.audio;\n        this.fileSize = this.audioInfo.fileSize; //文件总大小\n        this.blockSize = 1024 * 1024; //每次加载1M\n        this.end = -1; //上个片段的末尾偏移量\n        this.mimeCodec = 'audio/mpeg';\n        this._generateBlob();\n    },\n    //生成blob对象\n    _generateBlob: function () {\n        var self = this;\n        this.mediaSource = new MediaSource();\n        this.audio.src = URL.createObjectURL(this.mediaSource);\n        this.mediaSource.addEventListener('sourceopen', function () {\n            if (self.mediaSource.readyState == 'open') {\n                self.sourceBuffer = self.mediaSource.addSourceBuffer(self.mimeCodec);\n                self.sourceBuffer.addEventListener('updateend', function () {\n                    if (self.end >= self.fileSize - 1) {\n                        self.mediaSource.endOfStream();\n                    } else {\n                        self._loadNext();\n                    }\n                });\n                self._loadNext();\n            }\n        });\n    },\n    //下载下一个音频片段数据\n    _loadNext: function () {\n        var self = this;\n        this.begin = this.end + 1;\n        this.end = this.begin + this.blockSize;\n        if (this.begin == 0) {\n            this.end += this.audioInfo.audioDataOffset;\n        }\n        if (this.end >= this.fileSize) {\n            this.end = this.fileSize - 1;\n        }\n        Object(__WEBPACK_IMPORTED_MODULE_1__common_range__[\"a\" /* default */])(this.url, this.begin, this.end, {\n            onsuccess: function (request) {\n                var buffer = request.response;\n                self.sourceBuffer.appendBuffer(buffer);\n            }\n        });\n    }\n};\n\nfunction Mp3Player(_url, opt) {\n    this.url = _url;\n    this._init(opt);\n    return new __WEBPACK_IMPORTED_MODULE_0__audio_index__[\"a\" /* default */](opt);\n}\n\nMp3Player.prototype._init = function (opt) {\n    var AudioInfo = opt.AudioInfo;\n    var loadedmetadataCb = opt.loadedmetadataCb;\n    var self = this;\n    //使用mediasource方式，Aduio对象的loadedmetadata事件可能获取不到时长，因此使用AudioInfo去回调loadedmetadataCb\n    opt.loadedmetadataCb = null;\n    return AudioInfo.init(this.url, {\n        loadedmetadataCb: loadedmetadataCb,\n        decrypt: opt.decrypt\n    }).then(function (audioInfo) {\n        player._init({\n            url: self.url,\n            audioInfo: audioInfo,\n            audio: opt.audio\n        });\n        if (!audioInfo) {\n            opt.errorCb && errorCb('parse audioInfo failed');\n        }\n    }).catch(function (e) {\n        console.log(e);\n        opt.errorCb && errorCb('load audioInfo failed');\n    });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Mp3Player);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL21lZGlhc291cmNlL3BsYXllci5qcz85N2UyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBdWRpbyBmcm9tICcuLi9hdWRpby9pbmRleCc7XHJcbmltcG9ydCByZXF1ZXN0UmFuZ2UgZnJvbSAnLi4vY29tbW9uL3JhbmdlJztcclxuXHJcbnZhciBwbGF5ZXIgPSB7XHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMluaSreaUvuWZqFxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHQg5Y+C5pWw5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IG9wdC51cmwg6Z+z6aKR5paH5Lu25Zyw5Z2AXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdC5hdWRpb0luZm8g6Z+z6aKR5L+h5oGv5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gIHtBdWRpb30gb3B0LmF1ZGlvIGF1ZGlv5paH5qGj5a+56LGhXHJcbiAgICAgKi9cclxuICAgIF9pbml0OiBmdW5jdGlvbihvcHQpIHtcclxuICAgICAgICB0aGlzLnVybCA9IG9wdC51cmw7IC8vbXAz5paH5Lu25Zyw5Z2AXHJcbiAgICAgICAgdGhpcy5hdWRpb0luZm8gPSBvcHQuYXVkaW9JbmZvOyAvL21wM+aWh+S7tuS/oeaBr1xyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBvcHQuYXVkaW87XHJcbiAgICAgICAgdGhpcy5maWxlU2l6ZSA9IHRoaXMuYXVkaW9JbmZvLmZpbGVTaXplOyAvL+aWh+S7tuaAu+Wkp+Wwj1xyXG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gMTAyNCAqIDEwMjQ7IC8v5q+P5qyh5Yqg6L29MU1cclxuICAgICAgICB0aGlzLmVuZCA9IC0xOyAvL+S4iuS4queJh+auteeahOacq+WwvuWBj+enu+mHj1xyXG4gICAgICAgIHRoaXMubWltZUNvZGVjID0gJ2F1ZGlvL21wZWcnO1xyXG4gICAgICAgIHRoaXMuX2dlbmVyYXRlQmxvYigpO1xyXG4gICAgfSxcclxuICAgIC8v55Sf5oiQYmxvYuWvueixoVxyXG4gICAgX2dlbmVyYXRlQmxvYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubWVkaWFTb3VyY2UgPSBuZXcgTWVkaWFTb3VyY2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5tZWRpYVNvdXJjZSk7XHJcbiAgICAgICAgdGhpcy5tZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLm1lZGlhU291cmNlLnJlYWR5U3RhdGUgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNvdXJjZUJ1ZmZlciA9IHNlbGYubWVkaWFTb3VyY2UuYWRkU291cmNlQnVmZmVyKHNlbGYubWltZUNvZGVjKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc291cmNlQnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmVuZCA+PSBzZWxmLmZpbGVTaXplIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZE5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgc2VsZi5fbG9hZE5leHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8v5LiL6L295LiL5LiA5Liq6Z+z6aKR54mH5q615pWw5o2uXHJcbiAgICBfbG9hZE5leHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB0aGlzLmJlZ2luID0gdGhpcy5lbmQrMTtcclxuICAgICAgICB0aGlzLmVuZCA9IHRoaXMuYmVnaW4gKyB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICBpZiAodGhpcy5iZWdpbiA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kICs9IHRoaXMuYXVkaW9JbmZvLmF1ZGlvRGF0YU9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5kID49IHRoaXMuZmlsZVNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbmQgPSB0aGlzLmZpbGVTaXplIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxdWVzdFJhbmdlKHRoaXMudXJsLCB0aGlzLmJlZ2luLCB0aGlzLmVuZCwge1xyXG4gICAgICAgICAgICBvbnN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSByZXF1ZXN0LnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zb3VyY2VCdWZmZXIuYXBwZW5kQnVmZmVyKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTXAzUGxheWVyKF91cmwsIG9wdCkge1xyXG4gICAgdGhpcy51cmwgPSBfdXJsO1xyXG4gICAgdGhpcy5faW5pdChvcHQpO1xyXG4gICAgcmV0dXJuIG5ldyBBdWRpbyhvcHQpO1xyXG59XHJcblxyXG5NcDNQbGF5ZXIucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24ob3B0KSB7XHJcbiAgICB2YXIgQXVkaW9JbmZvID0gb3B0LkF1ZGlvSW5mbztcclxuICAgIHZhciBsb2FkZWRtZXRhZGF0YUNiID0gb3B0LmxvYWRlZG1ldGFkYXRhQ2I7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvL+S9v+eUqG1lZGlhc291cmNl5pa55byP77yMQWR1aW/lr7nosaHnmoRsb2FkZWRtZXRhZGF0YeS6i+S7tuWPr+iDveiOt+WPluS4jeWIsOaXtumVv++8jOWboOatpOS9v+eUqEF1ZGlvSW5mb+WOu+Wbnuiwg2xvYWRlZG1ldGFkYXRhQ2JcclxuICAgIG9wdC5sb2FkZWRtZXRhZGF0YUNiID0gbnVsbDtcclxuICAgIHJldHVybiBBdWRpb0luZm8uaW5pdCh0aGlzLnVybCwge1xyXG4gICAgICAgIGxvYWRlZG1ldGFkYXRhQ2I6IGxvYWRlZG1ldGFkYXRhQ2IsXHJcbiAgICAgICAgZGVjcnlwdDogb3B0LmRlY3J5cHRcclxuICAgIH0pLnRoZW4oZnVuY3Rpb24oYXVkaW9JbmZvKSB7XHJcbiAgICAgICAgcGxheWVyLl9pbml0KHtcclxuICAgICAgICAgICAgdXJsOiBzZWxmLnVybCxcclxuICAgICAgICAgICAgYXVkaW9JbmZvOiBhdWRpb0luZm8sXHJcbiAgICAgICAgICAgIGF1ZGlvOiBvcHQuYXVkaW9cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWF1ZGlvSW5mbykge1xyXG4gICAgICAgICAgICBvcHQuZXJyb3JDYiAmJiBlcnJvckNiKCdwYXJzZSBhdWRpb0luZm8gZmFpbGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIG9wdC5lcnJvckNiICYmIGVycm9yQ2IoJ2xvYWQgYXVkaW9JbmZvIGZhaWxlZCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1wM1BsYXllcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL21lZGlhc291cmNlL3BsYXllci5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBdERBO0FBQ0E7QUF3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function Audio(options) {\n    var emptyFn = function () {};\n    var loadstartCb = null;\n    var loadedmetadataCb = null; //更新总时长回调\n    var updateTimeCb = null; //更新时间回调\n    var updateBarCb = null; // 更新进度条回调\n    var waitingCb = null; //开始播放或播放过程中由于缓冲暂停时回调\n    var playingCb = null; //开始播放或播放过程中缓冲完成回调\n    var canplayCb = null; //当前位置可播放时回调\n    var seekingCb = null; //寻址中回调\n    var playCb = null; //播放回调\n    var endCb = null; //播放完成\n    var pauseCb = null; //暂停回调\n    var errorCb = null; //错误回调\n    var audio = null; //音频对象\n    var playBtn = null; //播放按钮\n    var pauseBtn = null; //暂停按钮\n    var forceSeek = false; //是否强制移动播放位置\n    var currentTime = 0; //当前播放位置\n    var seekTimeoutId = null; //寻址超时计时器\n    var seekMaxTime = 30000; //最大寻址时长\n    var seeking = false; //是否正在寻址中\n    var canplay = false; //是否就绪\n    var canUpdateTime = true; //是否可更新时长\n    var allListener = [];\n    var AudioObj = {\n        init: function (options) {\n            updateTimeCb = options.updateTimeCb || emptyFn;\n            seekingCb = options.seekingCb || emptyFn;\n            waitingCb = options.waitingCb || emptyFn;\n            playingCb = options.playingCb || emptyFn;\n            canplayCb = options.canplayCb || emptyFn;\n            loadstartCb = options.loadstartCb || emptyFn;\n            playCb = options.playCb || emptyFn;\n            endCb = options.endCb || emptyFn;\n            pauseCb = options.pauseCb || emptyFn;\n            updateBarCb = options.updateBarCb || emptyFn;\n            loadedmetadataCb = options.loadedmetadataCb || emptyFn;\n            errorCb = options.errorCb || emptyFn;\n            audio = options.audio;\n            forceSeek = options.forceSeek || false;\n            playBtn = options.playBtn;\n            pauseBtn = options.pauseBtn;\n            if (!audio) {\n                return;\n            }\n            this.audio = audio;\n            this._bindAudioEvent();\n            this._bindClickEvent();\n        },\n        destroy: function () {\n            this._removeAllEvent();\n        },\n        /**\r\n         * [seek 设置播放位置,对外接口]\r\n         * @param  {Number}  percent [百分比或时间]\r\n         * @param  {Boolean} isTime  [是否是时间]\r\n         * @param  {Boolean} ifStop  [是否停止]\r\n         */\n        seek: function (percent, isTime, ifStop) {\n            if (!audio.duration) {\n                if (!isTime) updateBarCb(percent);\n                return;\n            }\n            var self = this;\n            if (!ifStop) {\n                this.play();\n            } else {\n                this.pause();\n            }\n            if (!isTime) {\n                percent = percent > 100 ? 100 : percent;\n                percent = percent < 0 ? 0 : percent;\n                currentTime = percent * audio.duration / 100;\n            } else {\n                currentTime = percent;\n                percent = currentTime / audio.duration * 100;\n            }\n            if (!this._ifSeekable(currentTime)) {\n                console.log('can not seek');\n                updateBarCb(percent);\n                return;\n            }\n            updateTimeCb(currentTime);\n            updateBarCb(percent);\n            audio.currentTime = currentTime;\n            if (forceSeek) {\n                seeking = true;\n                self.pause();\n                seekTimeoutId = setTimeout(function () {\n                    seeking = false;\n                    self._setNearCurrentTime();\n                    if (!ifStop) {\n                        self.play(audio);\n                    }\n                }, seekMaxTime);\n            }\n        },\n        /**\r\n         * @todo [更新时间，对外接口]\r\n         * @param    {[Number]}   percent [百分比或时长]\r\n         * @param    {Boolean}  isTime  [是否是时长]\r\n         */\n        updateTime: function (percent, isTime) {\n            if (isTime) {\n                updateTimeCb(percent);\n                return;\n            } else if (!audio.duration || !audio.seekable.length) {\n                return;\n            } else {\n                percent = percent > 100 ? 100 : percent;\n                percent = percent < 0 ? 0 : percent;\n                updateTimeCb(percent * audio.duration / 100);\n            }\n        },\n        /**\r\n         * [play 播放，对外接口]\r\n         */\n        play: function () {\n            if (audio.paused) {\n                audio.play();\n            }\n        },\n        /**\r\n         * [play 暂停播放，对外接口]\r\n         */\n        pause: function () {\n            if (!audio.paused) {\n                audio.pause();\n            }\n        },\n        /**\r\n         * [stopUpdateTime 停止内部更新时间，对外接口]\r\n         */\n        stopUpdateTime: function () {\n            canUpdateTime = false;\n        },\n        /**\r\n         * [startUpdateTime 开始内部更新时间，对外接口]\r\n         */\n        startUpdateTime: function () {\n            canUpdateTime = true;\n        },\n        removeAllEvent: function () {\n            this._removeAllEvent();\n        },\n        getSource: function () {\n            return audio;\n        },\n        _bindAudioEvent: function () {\n            var self = this;\n            this._addEvent(audio, 'loadstart', function () {\n                loadstartCb();\n                console.log('loadstart');\n            });\n            this._addEvent(audio, 'play', function () {\n                playCb();\n                console.log('play');\n            });\n            this._addEvent(audio, 'ended', function () {\n                endCb();\n                console.log('ended');\n            });\n            this._addEvent(audio, 'pause', function () {\n                pauseCb();\n                console.log('puase');\n            });\n            this._addEvent(audio, 'waiting', function () {\n                waitingCb();\n                console.log('waiting');\n            });\n            this._addEvent(audio, 'playing', function () {\n                if (this.readyState == 4) {\n                    playingCb();\n                }\n                console.log('playing');\n            });\n            this._addEvent(audio, 'seeking', function () {\n                seekingCb();\n                console.log('seeking');\n            });\n            if (forceSeek) {\n                this._addEvent(audio, 'seeked', function () {\n                    if (seeking) {\n                        seeking = false;\n                        clearTimeout(seekTimeoutId);\n                        self.play();\n                    }\n                    console.log('seeked');\n                });\n            }\n            this._addEvent(audio, 'loadedmetadata', function () {\n                loadedmetadataCb(audio.duration);\n                //兼容ios首次必须交互触发canplay事件\n                canplayCb();\n                canplay = true;\n                console.log('loadedmetadata');\n            });\n            this._addEvent(audio, 'canplay', function () {\n                canplayCb();\n                canplay = true;\n                console.log('canplay');\n            });\n            this._addEvent(audio, 'timeupdate', function () {\n                if (!canUpdateTime) return;\n                var percent = 0;\n                var time = audio.currentTime;\n                if (Math.abs(time - currentTime) > 0.05 && !audio.seeking) {\n                    updateTimeCb(time, true);\n                } else {\n                    updateTimeCb(time);\n                }\n                if (audio.duration) {\n                    percent = time / audio.duration * 100;\n                }\n                updateBarCb(percent);\n            });\n            this._addEvent(audio, 'stalled', function (e) {\n                console.log('stalled');\n            });\n            this._addEvent(audio, 'error', function (e) {\n                errorCb();\n                console.log('error');\n            });\n            this._addEvent(audio, 'abort', function (e) {\n                console.log('abort');\n            });\n        },\n        _bindClickEvent: function () {\n            var self = this;\n            if (playBtn) {\n                this._addEvent(playBtn, 'click', function (event) {\n                    self._stopPropagation(event);\n                    self.play();\n                });\n            }\n            if (pauseBtn) {\n                this._addEvent(pauseBtn, 'click', function (event) {\n                    self._stopPropagation(event);\n                    self.pause();\n                });\n            }\n        },\n        /**\r\n         * @todo [播放位置是否可寻址]\r\n         * @param    {[Number]}   time [时长]\r\n         * @return   {[Boolean]}       [结果]\r\n         */\n        _ifSeekable: function (time) {\n            var seekable = audio.seekable;\n            var canSeek = false;\n            for (var i = 0; i < seekable.length; i++) {\n                var start = seekable.start(i);\n                var end = seekable.end(i);\n                if (time >= start && time <= end) {\n                    canSeek = true;\n                    break;\n                }\n            }\n            return canSeek;\n        },\n        /**\r\n         * [_setNearCurrentTime 设置最接近的播放位置]\r\n         */\n        _setNearCurrentTime: function () {\n            var bufferd = audio.bufferd;\n            var distance = 0;\n            var preTime = 0;\n            for (var i = 0; i < bufferd.length; i++) {\n                var start = bufferd.start(i);\n                var end = bufferd.end(i);\n                if (Math.abs(start - currentTime) < distance || distance == 0) {\n                    distance = Math.abs(start - currentTime);\n                    preTime = start;\n                }\n                if (Math.abs(end - currentTime) < distance || distance == 0) {\n                    distance = Math.abs(end - currentTime);\n                    preTime = end;\n                }\n            }\n            currentTime = preTime;\n            audio.currentTime = currentTime;\n        },\n        _addEvent: function (ele, event_name, func) {\n            if (window.attachEvent) {\n                ele.attachEvent('on' + event_name, func);\n            } else {\n                ele.addEventListener(event_name, func, false); //默认事件是冒泡\n            }\n            allListener[allListener.length] = {\n                ele: ele,\n                func: func,\n                event: event_name\n            };\n        },\n        _removeEvent: function (ele, event_name, func) {\n            if (window.attachEvent) {\n                ele.detachEvent('on' + event_name, func);\n            } else {\n                ele.removeEventListener(event_name, func, false);\n            }\n        },\n        _removeAllEvent: function () {\n            for (var i = 0; i < allListener.length; i++) {\n                var listener = allListener[i];\n                this._removeEvent(listener.ele, listener.event, listener.func);\n            }\n        },\n        _stopPropagation: function (e) {\n            if (e && e.stopPropagation) {\n                //非IE   \n                e.stopPropagation();\n            } else {\n                //IE   \n                window.event.cancelBubble = true;\n            }\n        },\n        _preventDefault: function (e) {\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\n        }\n    };\n    if (options) {\n        AudioObj.init(options);\n    }\n    return AudioObj;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Audio);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2F1ZGlvL2luZGV4LmpzPzZiMWQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQXVkaW8ob3B0aW9ucykge1xyXG4gICAgdmFyIGVtcHR5Rm4gPSBmdW5jdGlvbigpIHt9O1xyXG4gICAgdmFyIGxvYWRzdGFydENiID0gbnVsbDtcclxuICAgIHZhciBsb2FkZWRtZXRhZGF0YUNiID0gbnVsbDsgLy/mm7TmlrDmgLvml7bplb/lm57osINcclxuICAgIHZhciB1cGRhdGVUaW1lQ2IgPSBudWxsOyAvL+abtOaWsOaXtumXtOWbnuiwg1xyXG4gICAgdmFyIHVwZGF0ZUJhckNiID0gbnVsbDsgLy8g5pu05paw6L+b5bqm5p2h5Zue6LCDXHJcbiAgICB2YXIgd2FpdGluZ0NiID0gbnVsbDsgLy/lvIDlp4vmkq3mlL7miJbmkq3mlL7ov4fnqIvkuK3nlLHkuo7nvJPlhrLmmoLlgZzml7blm57osINcclxuICAgIHZhciBwbGF5aW5nQ2IgPSBudWxsOyAvL+W8gOWni+aSreaUvuaIluaSreaUvui/h+eoi+S4ree8k+WGsuWujOaIkOWbnuiwg1xyXG4gICAgdmFyIGNhbnBsYXlDYiA9IG51bGw7IC8v5b2T5YmN5L2N572u5Y+v5pKt5pS+5pe25Zue6LCDXHJcbiAgICB2YXIgc2Vla2luZ0NiID0gbnVsbDsgLy/lr7vlnYDkuK3lm57osINcclxuICAgIHZhciBwbGF5Q2IgPSBudWxsOyAvL+aSreaUvuWbnuiwg1xyXG4gICAgdmFyIGVuZENiID0gbnVsbDsgLy/mkq3mlL7lrozmiJBcclxuICAgIHZhciBwYXVzZUNiID0gbnVsbDsgLy/mmoLlgZzlm57osINcclxuICAgIHZhciBlcnJvckNiID0gbnVsbDsgLy/plJnor6/lm57osINcclxuICAgIHZhciBhdWRpbyA9IG51bGw7IC8v6Z+z6aKR5a+56LGhXHJcbiAgICB2YXIgcGxheUJ0biA9IG51bGw7IC8v5pKt5pS+5oyJ6ZKuXHJcbiAgICB2YXIgcGF1c2VCdG4gPSBudWxsOyAvL+aaguWBnOaMiemSrlxyXG4gICAgdmFyIGZvcmNlU2VlayA9IGZhbHNlOyAvL+aYr+WQpuW8uuWItuenu+WKqOaSreaUvuS9jee9rlxyXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gMDsgLy/lvZPliY3mkq3mlL7kvY3nva5cclxuICAgIHZhciBzZWVrVGltZW91dElkID0gbnVsbDsgLy/lr7vlnYDotoXml7borqHml7blmahcclxuICAgIHZhciBzZWVrTWF4VGltZSA9IDMwMDAwOyAvL+acgOWkp+Wvu+WdgOaXtumVv1xyXG4gICAgdmFyIHNlZWtpbmcgPSBmYWxzZTsgLy/mmK/lkKbmraPlnKjlr7vlnYDkuK1cclxuICAgIHZhciBjYW5wbGF5ID0gZmFsc2U7IC8v5piv5ZCm5bCx57uqXHJcbiAgICB2YXIgY2FuVXBkYXRlVGltZSA9IHRydWU7IC8v5piv5ZCm5Y+v5pu05paw5pe26ZW/XHJcbiAgICB2YXIgYWxsTGlzdGVuZXIgPSBbXTtcclxuICAgIHZhciBBdWRpb09iaiA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVRpbWVDYiA9IG9wdGlvbnMudXBkYXRlVGltZUNiIHx8IGVtcHR5Rm47XHJcbiAgICAgICAgICAgIHNlZWtpbmdDYiA9IG9wdGlvbnMuc2Vla2luZ0NiIHx8IGVtcHR5Rm47XHJcbiAgICAgICAgICAgIHdhaXRpbmdDYiA9IG9wdGlvbnMud2FpdGluZ0NiIHx8IGVtcHR5Rm47XHJcbiAgICAgICAgICAgIHBsYXlpbmdDYiA9IG9wdGlvbnMucGxheWluZ0NiIHx8IGVtcHR5Rm47XHJcbiAgICAgICAgICAgIGNhbnBsYXlDYiA9IG9wdGlvbnMuY2FucGxheUNiIHx8IGVtcHR5Rm47XHJcbiAgICAgICAgICAgIGxvYWRzdGFydENiID0gb3B0aW9ucy5sb2Fkc3RhcnRDYiB8fCBlbXB0eUZuO1xyXG4gICAgICAgICAgICBwbGF5Q2IgPSBvcHRpb25zLnBsYXlDYiB8fCBlbXB0eUZuO1xyXG4gICAgICAgICAgICBlbmRDYiA9IG9wdGlvbnMuZW5kQ2IgfHwgZW1wdHlGbjtcclxuICAgICAgICAgICAgcGF1c2VDYiA9IG9wdGlvbnMucGF1c2VDYiB8fCBlbXB0eUZuO1xyXG4gICAgICAgICAgICB1cGRhdGVCYXJDYiA9IG9wdGlvbnMudXBkYXRlQmFyQ2IgfHwgZW1wdHlGbjtcclxuICAgICAgICAgICAgbG9hZGVkbWV0YWRhdGFDYiA9IG9wdGlvbnMubG9hZGVkbWV0YWRhdGFDYiB8fCBlbXB0eUZuO1xyXG4gICAgICAgICAgICBlcnJvckNiID0gb3B0aW9ucy5lcnJvckNiIHx8IGVtcHR5Rm47XHJcbiAgICAgICAgICAgIGF1ZGlvID0gb3B0aW9ucy5hdWRpbztcclxuICAgICAgICAgICAgZm9yY2VTZWVrID0gb3B0aW9ucy5mb3JjZVNlZWsgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHBsYXlCdG4gPSBvcHRpb25zLnBsYXlCdG47XHJcbiAgICAgICAgICAgIHBhdXNlQnRuID0gb3B0aW9ucy5wYXVzZUJ0bjtcclxuICAgICAgICAgICAgaWYgKCFhdWRpbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8gPSBhdWRpbztcclxuICAgICAgICAgICAgdGhpcy5fYmluZEF1ZGlvRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5fYmluZENsaWNrRXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVBbGxFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogW3NlZWsg6K6+572u5pKt5pS+5L2N572uLOWvueWkluaOpeWPo11cclxuICAgICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwZXJjZW50IFvnmb7liIbmr5TmiJbml7bpl7RdXHJcbiAgICAgICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNUaW1lICBb5piv5ZCm5piv5pe26Ze0XVxyXG4gICAgICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGlmU3RvcCAgW+aYr+WQpuWBnOatol1cclxuICAgICAgICAgKi9cclxuICAgICAgICBzZWVrOiBmdW5jdGlvbihwZXJjZW50LCBpc1RpbWUsIGlmU3RvcCkge1xyXG4gICAgICAgICAgICBpZiAoIWF1ZGlvLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzVGltZSlcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYXJDYihwZXJjZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmICghaWZTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaXNUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gcGVyY2VudCA+IDEwMCA/IDEwMCA6IHBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gcGVyY2VudCA8IDAgPyAwIDogcGVyY2VudDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gcGVyY2VudCAqIGF1ZGlvLmR1cmF0aW9uIC8gMTAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSBwZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgcGVyY2VudCA9IGN1cnJlbnRUaW1lIC8gYXVkaW8uZHVyYXRpb24gKiAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pZlNlZWthYmxlKGN1cnJlbnRUaW1lKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhbiBub3Qgc2VlaycpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQmFyQ2IocGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBkYXRlVGltZUNiKGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgdXBkYXRlQmFyQ2IocGVyY2VudCk7XHJcbiAgICAgICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIGlmIChmb3JjZVNlZWspIHtcclxuICAgICAgICAgICAgICAgIHNlZWtpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgc2Vla1RpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3NldE5lYXJDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaWZTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheShhdWRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgc2Vla01heFRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAdG9kbyBb5pu05paw5pe26Ze077yM5a+55aSW5o6l5Y+jXVxyXG4gICAgICAgICAqIEBwYXJhbSAgICB7W051bWJlcl19ICAgcGVyY2VudCBb55m+5YiG5q+U5oiW5pe26ZW/XVxyXG4gICAgICAgICAqIEBwYXJhbSAgICB7Qm9vbGVhbn0gIGlzVGltZSAgW+aYr+WQpuaYr+aXtumVv11cclxuICAgICAgICAgKi9cclxuICAgICAgICB1cGRhdGVUaW1lOiBmdW5jdGlvbihwZXJjZW50LCBpc1RpbWUpIHtcclxuICAgICAgICAgICAgaWYgKGlzVGltZSkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVGltZUNiKHBlcmNlbnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhdWRpby5kdXJhdGlvbiB8fCAhYXVkaW8uc2Vla2FibGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gcGVyY2VudCA+IDEwMCA/IDEwMCA6IHBlcmNlbnQ7XHJcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gcGVyY2VudCA8IDAgPyAwIDogcGVyY2VudDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRpbWVDYihwZXJjZW50ICogYXVkaW8uZHVyYXRpb24gLyAxMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBbcGxheSDmkq3mlL7vvIzlr7nlpJbmjqXlj6NdXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGxheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChhdWRpby5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogW3BsYXkg5pqC5YGc5pKt5pS+77yM5a+55aSW5o6l5Y+jXVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFhdWRpby5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFtzdG9wVXBkYXRlVGltZSDlgZzmraLlhoXpg6jmm7TmlrDml7bpl7TvvIzlr7nlpJbmjqXlj6NdXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RvcFVwZGF0ZVRpbWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjYW5VcGRhdGVUaW1lID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBbc3RhcnRVcGRhdGVUaW1lIOW8gOWni+WGhemDqOabtOaWsOaXtumXtO+8jOWvueWkluaOpeWPo11cclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGFydFVwZGF0ZVRpbWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjYW5VcGRhdGVUaW1lID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZUFsbEV2ZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWxsRXZlbnQoKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRTb3VyY2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXVkaW87XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfYmluZEF1ZGlvRXZlbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50KGF1ZGlvLCAnbG9hZHN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsb2Fkc3RhcnRDYigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvYWRzdGFydCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnQoYXVkaW8sICdwbGF5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5Q2IoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudChhdWRpbywgJ2VuZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBlbmRDYigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZGVkJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudChhdWRpbywgJ3BhdXNlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBwYXVzZUNiKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncHVhc2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50KGF1ZGlvLCAnd2FpdGluZycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgd2FpdGluZ0NiKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2FpdGluZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnQoYXVkaW8sICdwbGF5aW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5aW5nQ2IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudChhdWRpbywgJ3NlZWtpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlZWtpbmdDYigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlZWtpbmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChmb3JjZVNlZWspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50KGF1ZGlvLCAnc2Vla2VkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Vla1RpbWVvdXRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2Vla2VkJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudChhdWRpbywgJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWRtZXRhZGF0YUNiKGF1ZGlvLmR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIC8v5YW85a65aW9z6aaW5qyh5b+F6aG75Lqk5LqS6Kem5Y+RY2FucGxheeS6i+S7tlxyXG4gICAgICAgICAgICAgICAgY2FucGxheUNiKCk7XHJcbiAgICAgICAgICAgICAgICBjYW5wbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2FkZWRtZXRhZGF0YScpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudChhdWRpbywgJ2NhbnBsYXknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNhbnBsYXlDYigpO1xyXG4gICAgICAgICAgICAgICAgY2FucGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2FucGxheScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnQoYXVkaW8sICd0aW1ldXBkYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNhblVwZGF0ZVRpbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmNlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBhdWRpby5jdXJyZW50VGltZTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aW1lIC0gY3VycmVudFRpbWUpID4gMC4wNSAmJiAhYXVkaW8uc2Vla2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRpbWVDYih0aW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGltZUNiKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IHRpbWUgLyBhdWRpby5kdXJhdGlvbiAqIDEwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZUJhckNiKHBlcmNlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnQoYXVkaW8sICdzdGFsbGVkJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YWxsZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50KGF1ZGlvLCAnZXJyb3InLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvckNiKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50KGF1ZGlvLCAnYWJvcnQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWJvcnQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2JpbmRDbGlja0V2ZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAocGxheUJ0bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkRXZlbnQocGxheUJ0biwgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdG9wUHJvcGFnYXRpb24oZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGF1c2VCdG4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50KHBhdXNlQnRuLCAnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0b3BQcm9wYWdhdGlvbihldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHRvZG8gW+aSreaUvuS9jee9ruaYr+WQpuWPr+Wvu+WdgF1cclxuICAgICAgICAgKiBAcGFyYW0gICAge1tOdW1iZXJdfSAgIHRpbWUgW+aXtumVv11cclxuICAgICAgICAgKiBAcmV0dXJuICAge1tCb29sZWFuXX0gICAgICAgW+e7k+aenF1cclxuICAgICAgICAgKi9cclxuICAgICAgICBfaWZTZWVrYWJsZTogZnVuY3Rpb24odGltZSkge1xyXG4gICAgICAgICAgICB2YXIgc2Vla2FibGUgPSBhdWRpby5zZWVrYWJsZTtcclxuICAgICAgICAgICAgdmFyIGNhblNlZWsgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWVrYWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gc2Vla2FibGUuc3RhcnQoaSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gc2Vla2FibGUuZW5kKGkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPj0gc3RhcnQgJiYgdGltZSA8PSBlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW5TZWVrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2FuU2VlaztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFtfc2V0TmVhckN1cnJlbnRUaW1lIOiuvue9ruacgOaOpei/keeahOaSreaUvuS9jee9rl1cclxuICAgICAgICAgKi9cclxuICAgICAgICBfc2V0TmVhckN1cnJlbnRUaW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGJ1ZmZlcmQgPSBhdWRpby5idWZmZXJkO1xyXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcHJlVGltZSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gYnVmZmVyZC5zdGFydChpKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBidWZmZXJkLmVuZChpKTtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzdGFydCAtIGN1cnJlbnRUaW1lKSA8IGRpc3RhbmNlIHx8IGRpc3RhbmNlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKHN0YXJ0IC0gY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZVRpbWUgPSBzdGFydDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhlbmQgLSBjdXJyZW50VGltZSkgPCBkaXN0YW5jZSB8fCBkaXN0YW5jZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhlbmQgLSBjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlVGltZSA9IGVuZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IHByZVRpbWU7XHJcbiAgICAgICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfYWRkRXZlbnQ6IGZ1bmN0aW9uKGVsZSwgZXZlbnRfbmFtZSwgZnVuYykge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBlbGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50X25hbWUsIGZ1bmMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgZnVuYywgZmFsc2UpOyAvL+m7mOiupOS6i+S7tuaYr+WGkuazoVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFsbExpc3RlbmVyW2FsbExpc3RlbmVyLmxlbmd0aF0gPSB7XHJcbiAgICAgICAgICAgICAgICBlbGU6IGVsZSxcclxuICAgICAgICAgICAgICAgIGZ1bmM6IGZ1bmMsXHJcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnRfbmFtZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfcmVtb3ZlRXZlbnQ6IGZ1bmN0aW9uKGVsZSwgZXZlbnRfbmFtZSwgZnVuYykge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBlbGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50X25hbWUsIGZ1bmMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgZnVuYywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfcmVtb3ZlQWxsRXZlbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbExpc3RlbmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBhbGxMaXN0ZW5lcltpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50KGxpc3RlbmVyLmVsZSwgbGlzdGVuZXIuZXZlbnQsIGxpc3RlbmVyLmZ1bmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmIChlICYmIGUuc3RvcFByb3BhZ2F0aW9uKSB7IC8v6Z2eSUUgICBcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vSUUgICBcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5ldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IChlLnJldHVyblZhbHVlID0gZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgQXVkaW9PYmouaW5pdChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIHJldHVybiBBdWRpb09iajtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXVkaW87XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hdWRpby9pbmRleC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4U0E7QUEwU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n");

/***/ })
/******/ ]);